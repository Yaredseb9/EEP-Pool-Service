(self.webpackChunknote=self.webpackChunknote||[]).push([[334],{82706:function(t,e,n){"use strict";n.r(e),n.d(e,{DashboardModule:function(){return O}});var a=n(61116),r=n(35119),i=n(49437),o=n(87368),s=n(8361),c=n(77744),l=n(89521),d=n(60649);let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-load-spinner"]],decls:13,vars:0,consts:[[1,"lds-spinner"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div"),o._UZ(2,"div"),o._UZ(3,"div"),o._UZ(4,"div"),o._UZ(5,"div"),o._UZ(6,"div"),o._UZ(7,"div"),o._UZ(8,"div"),o._UZ(9,"div"),o._UZ(10,"div"),o._UZ(11,"div"),o._UZ(12,"div"),o.qZA())},styles:['.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:100px;height:100px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:32px 32px;-webkit-animation:lds-spinner 1.2s linear infinite;animation:lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:29px;width:5px;height:14px;border-radius:20%;background:#0d0d0e}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{transform:rotate(0deg);-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);-webkit-animation-delay:-1s;animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);-webkit-animation-delay:-.9s;animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);-webkit-animation-delay:-.8s;animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);-webkit-animation-delay:-.7s;animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);-webkit-animation-delay:-.6s;animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);-webkit-animation-delay:-.4s;animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);-webkit-animation-delay:-.2s;animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);-webkit-animation-delay:-.1s;animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes lds-spinner{0%{opacity:1}to{opacity:0}}@keyframes lds-spinner{0%{opacity:1}to{opacity:0}}']}),t})();var h=n(17968),p=n(74718),g=n(37964),f=n(54451),m=n(49783),y=n(28451);function v(t,e){1&t&&(o.TgZ(0,"div",2),o._UZ(1,"app-load-spinner"),o.qZA())}const Z=function(){return{"background-color":"#33FF96","text-align":"center",color:"#ffffff"}},_=function(){return{"background-color":"#FF5733",color:"#ffffff"}};function M(t,e){if(1&t&&(o.TgZ(0,"div",11),o.TgZ(1,"p-card"),o.TgZ(2,"p",5),o._uU(3),o.ALo(4,"translate"),o.qZA(),o._UZ(5,"br"),o._UZ(6,"br"),o.TgZ(7,"div",12),o.TgZ(8,"div",13),o.TgZ(9,"p-avatar",14),o._uU(10),o.qZA(),o._UZ(11,"hr"),o.TgZ(12,"p"),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.TgZ(15,"div",13),o.TgZ(16,"p-avatar",14),o._uU(17),o.qZA(),o._UZ(18,"hr"),o.TgZ(19,"p"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.TgZ(22,"div",13),o.TgZ(23,"p-avatar",14),o._uU(24),o.qZA(),o._UZ(25,"hr"),o.TgZ(26,"p"),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const t=o.oxw(2);o.xp6(3),o.hij(" ",o.lcZ(4,11,"currentRequests")," "),o.xp6(7),o.hij(" ",t.totalData.indoorRequest," "),o.xp6(3),o.Oqu(o.lcZ(14,13,"indoorRequests")),o.xp6(3),o.Akn(o.DdM(19,Z)),o.xp6(1),o.hij(" ",t.totalData.fieldRequest," "),o.xp6(3),o.Oqu(o.lcZ(21,15,"fieldRequests")),o.xp6(3),o.Akn(o.DdM(20,_)),o.xp6(1),o.hij(" ",t.totalData.homePoolRequest," "),o.xp6(3),o.Oqu(o.lcZ(28,17,"homePoolRequests"))}}function D(t,e){if(1&t&&(o.TgZ(0,"div",11),o.TgZ(1,"p-card"),o.TgZ(2,"p",5),o._uU(3),o.ALo(4,"translate"),o.qZA(),o._UZ(5,"p-chart",15),o.qZA(),o.qZA()),2&t){const t=o.oxw(2);o.xp6(3),o.hij(" ",o.lcZ(4,4,"vehicelStatusReport")," "),o.xp6(2),o.Q6J("data",t.doughnutChartData)("height",200)("width",200)}}function A(t,e){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"th"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"th"),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Oqu(o.lcZ(3,3,"department")),o.xp6(3),o.Oqu(o.lcZ(6,5,"phone")),o.xp6(3),o.Oqu(o.lcZ(9,7,"description")))}function C(t,e){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.xp6(2),o.hij(" ",t.name," "),o.xp6(2),o.hij(" ",t.phone," "),o.xp6(2),o.hij(" ",t.description," ")}}function w(t,e){if(1&t&&(o.TgZ(0,"div",16),o.TgZ(1,"p-card"),o.TgZ(2,"p-table",17),o.YNc(3,A,10,9,"ng-template",18),o.YNc(4,C,7,3,"ng-template",19),o.qZA(),o.qZA(),o.qZA()),2&t){const t=o.oxw(2);o.xp6(2),o.Q6J("value",t.departments)("paginator",!0)("rows",7)("loading",t.loading)("autoLayout",!0)}}function b(t,e){if(1&t&&(o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.TgZ(2,"p-card"),o.TgZ(3,"p",5),o._uU(4),o.ALo(5,"translate"),o._UZ(6,"br"),o._UZ(7,"p-badge",6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",4),o.TgZ(9,"p-card"),o.TgZ(10,"p",5),o._uU(11),o.ALo(12,"translate"),o._UZ(13,"br"),o._UZ(14,"p-badge",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",4),o.TgZ(16,"p-card"),o.TgZ(17,"p",5),o._uU(18),o.ALo(19,"translate"),o._UZ(20,"br"),o._UZ(21,"p-badge",8),o.qZA(),o.qZA(),o.qZA(),o.YNc(22,M,29,21,"div",9),o.YNc(23,D,6,6,"div",9),o.YNc(24,w,5,5,"div",10),o.qZA()),2&t){const t=o.oxw();o.xp6(4),o.hij(" ",o.lcZ(5,9,"Employees"),""),o.xp6(3),o.s9C("value",t.totalData.user),o.xp6(4),o.hij(" ",o.lcZ(12,11,"registeredDepartment"),""),o.xp6(3),o.s9C("value",t.totalData.department),o.xp6(4),o.hij(" ",o.lcZ(19,13,"totalVehicle"),""),o.xp6(3),o.s9C("value",t.totalData.vehicle),o.xp6(1),o.Q6J("ngIf","FleetManager"==t.userRole||"PoolServiceAdministrator"==t.userRole),o.xp6(1),o.Q6J("ngIf","FleetManager"==t.userRole||"PoolServiceAdministrator"==t.userRole),o.xp6(1),o.Q6J("ngIf","PoolServiceAdministrator"!=t.userRole)}}const T=[{path:"",component:(()=>{class t{constructor(t,e,n,a){this.poolService=t,this.sessionService=e,this.supportMethod=n,this.translateService=a,this.barChartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Rejected",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:[65,59,80,81,56,55,40]},{label:"Approved",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:[28,48,40,19,86,27,90]}]}}ngOnInit(){this.user=this.sessionService.getItem("currentUser"),this.userRole=this.supportMethod.getUserRole(this.user),this.GetTotalAsets(),this.getDepartment()}GetTotalAsets(){return t=this,void 0,n=function*(){yield this.poolService.getTotalAsset().then(t=>{this.totalData=t}),yield this.getChartData(this.totalData)},new((e=void 0)||(e=Promise))(function(a,r){function i(t){try{s(n.next(t))}catch(e){r(e)}}function o(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,o)}s((n=n.apply(t,[])).next())});var t,e,n}getChartData(t){this.doughnutChartData={labels:[this.translateService.instant("ActiveVehicle"),this.translateService.instant("WorkingVehicle"),this.translateService.instant("InactiveVehicle")],datasets:[{data:[t.activeVehicle,t.workingVehicle,t.inActiveVehicle],backgroundColor:["#36A2EB","#FFCE56","#FF6384"],hoverBackgroundColor:["#36A2EB","#FFCE56","#FF6384"]}]}}getDepartment(){this.loading=!0,this.poolService.getDepartment().then(t=>{this.departments=t,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.q),o.Y36(c.m),o.Y36(l.p),o.Y36(d.sK))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["class","page-load-spinner",4,"ngIf"],["class","p-grid",4,"ngIf"],[1,"page-load-spinner"],[1,"p-grid"],[1,"p-col-4"],[2,"text-align","center"],["severity","success",3,"value"],["severity","danjer",3,"value"],["severity","warning",3,"value"],["class","p-col-6",4,"ngIf"],["class","p-col-12",4,"ngIf"],[1,"p-col-6"],[1,"p-grid",2,"height","170px"],[1,"p-col-4",2,"text-align","center"],["shape","circle","styleClass","p-mr-2","size","xlarge"],["type","doughnut",3,"data","height","width"],[1,"p-col-12"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","loading","autoLayout"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&(o.YNc(0,v,2,0,"div",0),o.YNc(1,b,25,15,"div",1)),2&t&&(o.Q6J("ngIf",!e.totalData),o.xp6(1),o.Q6J("ngIf",e.totalData))},directives:[a.O5,u,h.Z,p.Ct,g.q,f.C,m.iA,y.jx],pipes:[d.X$],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.Bz.forChild(T)],i.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.ez,r.n]]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.ez,S,r.n,q]]}),t})()},10990:function(t){function e(t,e){return"000000".substring(0,e-(t=""+t).length)+t}function n(t,n,a,r){return this._calendar=t,this._year=n,this._month=a,this._day=r,{_calendar:this._calendar,_year:this._year,_month:this._month,_day:this._day,newDate:function(t,e,n){return this._calendar.newDate(null==t?this:t,e,n)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,e,n){return this._year=t,this._month=e,this._day=n,this},set:function(t,e){return this._calendar.set(this,t,e)},leapYear:function(){return this._calendar.leapYear(this)},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},toEC:function(){return this._calendar.toEC(this)},toGC:function(){return this._calendar.toGC(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(t){return t=t||"-",(this.year()<0?t:"")+e(Math.abs(this.year()),4)+t+e(this.month(),2)+t+e(this.day(),2)},toLongString:function(){return this._calendar.toLongString(this)}}}var a=new function(){return this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={},{dateStruct:n,local:this.local,regionalOptions:{"":this.regionalOptions[""]},calendars:this.calendars,_localCals:this._localCals,instance:function(t,e){t=(t||"gregorian").toLowerCase();var n=this._localCals[t+"-"+(e=e||"")];if(!n&&this.calendars[t]&&(n=new this.calendars[t](e),this._localCals[t+"-"+e]=n),!n)throw(this.local.invalidCalendar||a.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,e,n,a,r){return(a=(null!=t&&t.year?t.calendar():"string"==typeof a?this.instance(a,r):a)||this.instance()).newDate(t,e,n,a)}}};a.calendars.gregorian=function(t){return this.local=a.regionalOptions[t]||a.regionalOptions[""],{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},daysInMonth(t,e){return this.leapYear(t)&&4==e?29:this.daysPerMonth[e]},newDate:function(t,e,a){return null==t?this.today():(t.year&&(a=t.day(),e=t.month(),t=t.year()),new n(this,t,e,a))},today:function(){return this.fromJSDate(new Date)},set:function(t,e,n){var a="y"===n?e:t.year(),r="m"===n?e:t.month(),i="d"===n?e:t.day();return"y"!==n&&"m"!==n||(i=Math.min(i,this.daysInMonth(a,r))),t.date(a,r,i)},leapYear:function(t){var e=this.newDate(t,this.minMonth,this.minDay);return(t=e.year()+(e.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},toJD:function(t,e,n){var a=this.newDate(t,e,n);t=a.year(),e=a.month(),n=a.day(),t<0&&t++,e<3&&(e+=12,t--);var r=Math.floor(t/100),i=2-r+Math.floor(r/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n+i-1524.5},fromJD:function(t){var e=Math.floor(t+.5),n=Math.floor((e-1867216.25)/36524.25),a=1524+(n=e+1+n-Math.floor(n/4)),r=Math.floor((a-122.1)/365.25),i=Math.floor(365.25*r),o=Math.floor((a-i)/30.6001),s=a-i-Math.floor(30.6001*o),c=o-(o>13.5?13:1),l=r-(c>2.5?4716:4715);return l<=0&&l--,this.newDate(l,c,s)},toJSDate:function(t,e,n){var a=this.newDate(t,e,n),r=new Date(a.year(),a.month()-1,a.day());return r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),r.setHours(r.getHours()>12?r.getHours()+2:0),r},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())},toEC:function(t){return a.instance("ethiopian").fromJD(t.toJD())},toLongString:function(t){return`${function(t){switch(t){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}return""}(new Date(t._year,t._month-1,t._day).getDay())} ${function(t){switch(t=parseInt(t)){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"Novomber";case 12:return"December"}return""}(t._month)} ${t._day}, ${t._year}`}}},a.calendars.ethiopian=function(t){return this.local=a.regionalOptions[t||""]||a.regionalOptions[""],{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},daysInMonth(t,e){return this.leapYear(t)&&13==e?6:30},newDate:function(t,e,a){return null==t?this.today():(t.year&&(a=t.day(),e=t.month(),t=t.year()),new n(this,t,e,a))},today:function(){return this.fromJSDate(new Date)},fromJSDate:function(t){return this.fromJD(a.instance().fromJSDate(t).toJD())},set:function(t,e,n){var a="y"===n?e:t.year(),r="m"===n?e:t.month(),i="d"===n?e:t.day();return"y"!==n&&"m"!==n||(i=Math.min(i,this.daysInMonth(a,r))),t.date(a,r,i)},leapYear:function(t){var e=this.newDate(t,this.minMonth,this.minDay);return(t=e.year()+(e.year()<0?1:0))%4==3||t%4==-1},toJD:function(t,e,n){var a=this.newDate(t,e,n);return(t=a.year())<0&&t++,a.day()+30*(a.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var a=Math.floor(e/30)+1;return this.newDate(n,a,e-30*(a-1)+1)},toGC:function(t){return a.instance("gregorian").fromJD(t.toJD())},toLongString:function(t){var e=this.toGC(t);return`${function(t){switch(t){case 0:return"\u12a5\u1201\u12f5";case 1:return"\u1230\u129e";case 2:return"\u121b\u12ad\u1230\u129e";case 3:return"\u1228\u1261\u12d5";case 4:return"\u1200\u1219\u1235";case 5:return"\u12a0\u122d\u1265";case 6:return"\u1245\u12f3\u121c"}return""}(new Date(e._year,e._month-1,e._day).getDay())} ${function(t){switch(t=parseInt(t)){case 1:return"\u1218\u1235\u12a8\u1228\u121d";case 2:return"\u1325\u1245\u121d\u1275";case 3:return"\u1205\u12f3\u122d";case 4:return"\u1273\u1205\u1233\u1235";case 5:return"\u1325\u122d";case 6:return"\u12e8\u12ab\u1272\u1275";case 7:return"\u1218\u130b\u1262\u1275";case 8:return"\u121a\u12eb\u12da\u12eb";case 9:return"\u130d\u1295\u1266\u1275";case 10:return"\u1230\u1294";case 11:return"\u1210\u121d\u120c";case 12:return"\u1290\u1200\u1234";case 13:return"\u1333\u1309\u121c"}return""}(t._month)} ${t._day}, ${t._year}`}}},t.exports=a},1882:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var a=n(10990);function r(t){var e=new Date(t);return a.instance().fromJSDate(new Date(parseInt(e.getFullYear()),parseInt(e.getMonth()),parseInt(e.getDate()))).toEC().toLongString()}}}]);