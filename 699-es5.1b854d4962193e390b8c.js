!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[699],{84699:function(n,o,i){"use strict";i.r(o),i.d(o,{HttpLoaderFactory:function(){return M},ReportModule:function(){return L}});var r=i(61116),a=i(49437),s=i(87368),l=i(8361),u=i(65916),c=i(28451),p=i(94217),g=i(46326),h=i(31041),Z=i(49783),d=i(60649);function f(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"th"),s._uU(5),s.ALo(6,"translate"),s.qZA(),s.TgZ(7,"th"),s._uU(8),s.ALo(9,"translate"),s.qZA(),s.TgZ(10,"th"),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Oqu(s.lcZ(3,4,"date")),s.xp6(3),s.Oqu(s.lcZ(6,6,"totalAssignment")),s.xp6(3),s.hij(" ",s.lcZ(9,8,"expectedDistance"),""),s.xp6(3),s.Oqu(s.lcZ(12,10,"actualDistance")))}function A(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.ALo(3,"date"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.qZA()),2&e){var n=t.$implicit;s.xp6(2),s.Oqu(s.xi3(3,4,n.assignDate,"MMM,dd/yyyy")),s.xp6(3),s.Oqu(n.totalAssignment),s.xp6(2),s.Oqu(n.totalExDistance),s.xp6(2),s.Oqu(n.totalTrDistance)}}function q(e,t){1&e&&(s.TgZ(0,"tr"),s._UZ(1,"th"),s.qZA())}function v(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"th"),s._uU(5),s.ALo(6,"translate"),s.qZA(),s.TgZ(7,"th"),s._uU(8),s.ALo(9,"translate"),s.qZA(),s.TgZ(10,"th"),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Oqu(s.lcZ(3,4,"date")),s.xp6(3),s.Oqu(s.lcZ(6,6,"totalAssignment")),s.xp6(3),s.hij(" ",s.lcZ(9,8,"expectedDistance"),""),s.xp6(3),s.Oqu(s.lcZ(12,10,"actualDistance")))}function T(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.ALo(3,"date"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.qZA()),2&e){var n=t.$implicit;s.xp6(2),s.Oqu(s.xi3(3,4,n.assignDate,"MMM,dd/yyyy")),s.xp6(3),s.Oqu(n.totalAssignment),s.xp6(2),s.Oqu(n.totalExDistance),s.xp6(2),s.Oqu(n.totalTrDistance)}}function m(e,t){if(1&e&&(s.TgZ(0,"tr",7),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.qZA(),s.TgZ(3,"tr"),s.TgZ(4,"p-table",8),s.YNc(5,v,13,12,"ng-template",5),s.YNc(6,T,10,7,"ng-template",6),s.qZA(),s.qZA()),2&e){var n=t.$implicit;s.xp6(2),s.lnq(" Vehicle: ",n.vehicle.platenumber,"\nDriver : ",n.vehicle.driverName,"\nDriver Phone : ",n.vehicle.driverPhone," "),s.xp6(2),s.Q6J("value",n.totalAssignmenttList)}}var y,x=function(){return{width:"50vw"}},D=[{path:"",component:(y=function(){function n(t){e(this,n),this.poolService=t,this.from=new Date,this.to=new Date,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}var o,i,r;return o=n,(i=[{key:"ngOnInit",value:function(){this.vehicleloading=!1,this.loading=!1,this.getReport("2021-06-04","2021-06-08"),this.getReportByVehicle("2021-06-04","2021-06-08")}},{key:"getReport",value:function(e,t){var n=this;this.loading=!0,this.poolService.getTotalPoolAssignmentReport(e,t).then(function(e){n.report=e.totalAssignmenttList,n.loading=!1})}},{key:"getReportByVehicle",value:function(e,t){var n=this;this.vehicleloading=!0,this.poolService.getTotalPoolAssignmentReportByVehicle(e,t).then(function(e){n.vehiclereport=e.vehicleTotalAssignmenttList,n.vehicleloading=!1})}},{key:"generateReport",value:function(){if(this.compareDate(new Date(this.from),new Date(this.to)))return this.DisplayError("Starting Time Should be grater than end time Time"),!1;var e=this.from.getFullYear()+"-"+(this.from.getMonth()+1)+"-"+this.from.getDate(),t=this.to.getFullYear()+"-"+(this.to.getMonth()+1)+"-"+this.to.getDate();this.getReport(e,t),this.getReportByVehicle(e,t)}},{key:"compareDate",value:function(e,t){return e>t}},{key:"DisplayError",value:function(e){this.iserror=!0,this.responseStyle="error",this.responseDialog=!0,this.responseTitle="Error!!!",this.responseMesssage=e}}])&&t(o.prototype,i),r&&t(o,r),n}(),y.\u0275fac=function(e){return new(e||y)(s.Y36(l.q))},y.\u0275cmp=s.Xpm({type:y,selectors:[["app-report"]],decls:21,vars:34,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[3,"ngModel","showIcon","ngModelChange"],["label","Generate Report",3,"click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[2,"background-color","rgb(68, 67, 65)","color","#ffffff"],[3,"value"]],template:function(e,t){1&e&&(s.TgZ(0,"p-dialog",0),s.NdJ("visibleChange",function(e){return t.responseDialog=e}),s.TgZ(1,"p-header"),s.TgZ(2,"p"),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"p-footer"),s.TgZ(7,"button",1),s.NdJ("click",function(){return t.responseDialog=!1}),s.ALo(8,"translate"),s.qZA(),s.qZA(),s.qZA(),s._uU(9," From "),s.TgZ(10,"p-calendar",2),s.NdJ("ngModelChange",function(e){return t.from=e})("ngModelChange",function(e){return t.from=e}),s.qZA(),s._uU(11," To "),s.TgZ(12,"p-calendar",2),s.NdJ("ngModelChange",function(e){return t.to=e})("ngModelChange",function(e){return t.to=e}),s.qZA(),s._uU(13," \xa0"),s.TgZ(14,"p-button",3),s.NdJ("click",function(){return t.generateReport()}),s.qZA(),s.TgZ(15,"p-table",4),s.YNc(16,f,13,12,"ng-template",5),s.YNc(17,A,10,7,"ng-template",6),s.qZA(),s.TgZ(18,"p-table",4),s.YNc(19,q,2,0,"ng-template",5),s.YNc(20,m,7,4,"ng-template",6),s.qZA()),2&e&&(s.Akn(s.DdM(33,x)),s.Q6J("visible",t.responseDialog)("modal",!0),s.xp6(2),s.Tol(t.responseStyle),s.xp6(1),s.hij(" ",t.responseTitle," "),s.xp6(1),s.Tol(t.responseStyle),s.xp6(1),s.hij(" ",t.responseMesssage," "),s.xp6(2),s.s9C("label",s.lcZ(8,31,"ok")),s.xp6(3),s.Q6J("ngModel",t.from)("ngModel",t.from)("showIcon",!0),s.xp6(2),s.Q6J("ngModel",t.to)("ngModel",t.to)("showIcon",!0),s.xp6(3),s.Q6J("value",t.report)("autoLayout",!0)("loading",t.loading)("paginator",!0)("rows",7)("responsive",!0),s.xp6(3),s.Q6J("value",t.vehiclereport)("autoLayout",!0)("loading",t.vehicleloading)("paginator",!0)("rows",5)("responsive",!0))},directives:[u.V,c.h4,c.$_,p.Hq,g.f,h.JJ,h.On,p.zx,Z.iA,c.jx],pipes:[d.X$,r.uU],styles:[""]}),y)}],b=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.Bz.forChild(D)],a.Bz]}),t}(),w=i(35119),U=i(42693),_=i(49037);function M(e){return new _.w(e)}var k,L=((k=function t(){e(this,t)}).\u0275fac=function(e){return new(e||k)},k.\u0275mod=s.oAB({type:k}),k.\u0275inj=s.cJS({imports:[[r.ez,b,w.n,d.aw.forChild({loader:{provide:d.Zw,useFactory:M,deps:[U.eN]},isolate:!1})],d.aw]}),k)}}])}();