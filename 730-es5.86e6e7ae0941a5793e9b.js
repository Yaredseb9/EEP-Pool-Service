!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(p){a=!0,o=p}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[730],{19730:function(t,o,i){"use strict";i.r(o),i.d(o,{DepartmentListModule:function(){return L}});var s=i(61116),a=i(49437),p=i(31041),l=i(87368),u=i(50052),c=i(8361),d=i(65916),m=i(28451),g=i(94217),f=i(81357),h=i(49783),Z=i(14313),b=i(5590),v=i(13682),y=i(60649);function A(e,t){1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"th"),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"th"),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"th"),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"th"),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,4,"name")),l.xp6(3),l.Oqu(l.lcZ(6,6,"phone")),l.xp6(3),l.Oqu(l.lcZ(9,8,"description")),l.xp6(3),l.Oqu(l.lcZ(12,10,"update")))}function q(e,t){if(1&e){var r=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",25),l.NdJ("click",function(){var e=l.CHM(r).$implicit;return l.oxw().update(e)}),l.ALo(9,"translate"),l.qZA(),l.qZA(),l.qZA()}if(2&e){var n=t.$implicit;l.xp6(2),l.hij(" ",n.name," "),l.xp6(2),l.hij(" ",n.phone," "),l.xp6(2),l.hij(" ",n.description," "),l.xp6(2),l.s9C("label",l.lcZ(9,4,"update"))}}function T(e,t){1&e&&l._UZ(0,"p-message",26)}function D(e,t){1&e&&l._UZ(0,"p-message",30)}function x(e,t){1&e&&l._UZ(0,"p-message",31)}function w(e,t){if(1&e&&(l.TgZ(0,"div",27),l.YNc(1,D,1,0,"p-message",28),l.YNc(2,x,1,0,"p-message",29),l.qZA()),2&e){var r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.userform.controls.phoneNumber.errors.required),l.xp6(1),l.Q6J("ngIf",r.userform.controls.phoneNumber.errors.pattern)}}var k,N,C=function(){return{width:"50vw"}},S=function(){return{width:"30vw"}},J=[{path:"",component:(k=function(){function t(e,n,o,i){r(this,t),this.routeStateService=e,this.poolService=n,this.fb=o,this.router=i,this.registerDepartment=!1,this.updateDepartment=!1,this.newDepartment={name:"",phone:"",description:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}var o,i,s;return o=t,(i=[{key:"ngOnInit",value:function(){this.loading=!1,this.getDepartment(),this.userform=this.fb.group({name:new p.NI("",p.kI.required),description:new p.NI("",p.kI.required),phoneNumber:new p.NI("",[p.kI.required,p.kI.pattern(this.mobNumberPattern)])})}},{key:"getDepartment",value:function(){var e=this;this.loading=!0,this.poolService.getDepartment().then(function(t){e.departments=t,e.loading=!1})}},{key:"RegisterDepartment",value:function(){this.userform.reset(),this.display=!0,this.registerDepartment=!0,this.updateDepartment=!1,this.dialogTitle="registerDepartmentForm"}},{key:"update",value:function(e){this.registerDepartment=!1,this.updateDepartment=!0,this.dialogTitle="updateDepartmentForm",this.display=!0,this.Id=e.departmentId,this.newDepartment.description=e.description,this.newDepartment.name=e.name,this.newDepartment.phone=e.phone}},{key:"goToDepartmentDetails",value:function(e){this.routeStateService.add("Department details","/main/departments/department-detail",e,!1)}},{key:"onClickRegisterDepartment",value:function(){var t=this;this.registerDepartment?this.poolService.RegisterDepartment(this.newDepartments).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Registered successfully ",t.display=!1},function(r){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=e(o[n],2),s=(i[0],i[1]);t.responseMesssage=t.responseMesssage+s}}):this.updateDepartment&&this.poolService.updateDepartment(this.newDepartments,this.Id).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Updated successfully ",t.display=!1},function(r){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=e(o[n],2),s=(i[0],i[1]);t.responseMesssage=t.responseMesssage+s}})}},{key:"newDepartments",get:function(){return this.newDepartment.name=this.userform.controls.name.value,this.newDepartment.phone=this.userform.controls.phoneNumber.value,this.newDepartment.description=this.userform.controls.description.value,this.newDepartment}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}}])&&n(o.prototype,i),s&&n(o,s),t}(),k.\u0275fac=function(e){return new(e||k)(l.Y36(u.v),l.Y36(c.q),l.Y36(p.qu),l.Y36(a.F0))},k.\u0275cmp=l.Xpm({type:k,selectors:[["app-department-list"]],decls:46,vars:58,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[3,"header"],[1,"ui-g-10","ui-sm-8",2,"margin-bottom","5%"],[2,"float","right"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","loading","autoLayout"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-12"],["for","firstname"],["id","firstname","type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["for","lastname"],["id","phone","type","text","formControlName","phoneNumber","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","description","pInputTextarea","","required","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","button",1,"ui-button-raised",3,"label","click"],["pButton","","type","button",3,"label","click"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","phoneNumber number is required",4,"ngIf"],["severity","error","text","invalid phone number format please fill correct phone number format",4,"ngIf"],["severity","error","text","phoneNumber number is required"],["severity","error","text","invalid phone number format please fill correct phone number format"]],template:function(e,t){1&e&&(l.TgZ(0,"p-dialog",0),l.NdJ("visibleChange",function(e){return t.responseDialog=e}),l.TgZ(1,"p-header"),l.TgZ(2,"p"),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA(),l.TgZ(6,"p-footer"),l.TgZ(7,"button",1),l.NdJ("click",function(){return t.Okonclick()}),l.ALo(8,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"p-panel",2),l.ALo(10,"translate"),l.TgZ(11,"div",3),l.TgZ(12,"label",4),l.TgZ(13,"button",5),l.NdJ("click",function(){return t.RegisterDepartment()}),l.ALo(14,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"p-table",6),l.YNc(16,A,13,12,"ng-template",7),l.YNc(17,q,10,6,"ng-template",8),l.qZA(),l.qZA(),l.TgZ(18,"p-dialog",9),l.NdJ("visibleChange",function(e){return t.display=e}),l.ALo(19,"translate"),l.TgZ(20,"form",10),l.NdJ("ngSubmit",function(){return t.onClickRegisterDepartment()}),l.TgZ(21,"div",11),l.TgZ(22,"div",12),l.TgZ(23,"label",13),l._uU(24),l.ALo(25,"translate"),l.qZA(),l.TgZ(26,"input",14),l.NdJ("ngModelChange",function(e){return t.newDepartment.name=e}),l.qZA(),l.YNc(27,T,1,0,"p-message",15),l.qZA(),l.TgZ(28,"div",12),l.TgZ(29,"label",16),l._uU(30),l.ALo(31,"translate"),l.qZA(),l.TgZ(32,"input",17),l.NdJ("ngModelChange",function(e){return t.newDepartment.phone=e}),l.qZA(),l.qZA(),l.YNc(33,w,3,2,"div",18),l.TgZ(34,"div",19),l.TgZ(35,"label",20),l._uU(36),l.ALo(37,"translate"),l.qZA(),l.TgZ(38,"textarea",21),l.NdJ("ngModelChange",function(e){return t.newDepartment.description=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(39,"div",11),l.TgZ(40,"div",22),l.TgZ(41,"button",23),l.NdJ("click",function(){return t.onClickRegisterDepartment()}),l.ALo(42,"translate"),l.qZA(),l.qZA(),l.TgZ(43,"div",22),l.TgZ(44,"button",24),l.NdJ("click",function(){return t.display=!1}),l.ALo(45,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Akn(l.DdM(56,C)),l.Q6J("visible",t.responseDialog)("modal",!0),l.xp6(2),l.Tol(t.responseStyle),l.xp6(1),l.hij(" ",t.responseTitle," "),l.xp6(1),l.Tol(t.responseStyle),l.xp6(1),l.hij(" ",t.responseMesssage," "),l.xp6(2),l.s9C("label",l.lcZ(8,38,"ok")),l.xp6(2),l.s9C("header",l.lcZ(10,40,"departmentList")),l.xp6(4),l.s9C("label",l.lcZ(14,42,"register")),l.xp6(2),l.Q6J("value",t.departments)("paginator",!0)("rows",10)("loading",t.loading)("autoLayout",!0),l.xp6(3),l.Akn(l.DdM(57,S)),l.s9C("header",l.lcZ(19,44,t.dialogTitle)),l.Q6J("visible",t.display)("transitionOptions","0ms")("modal",!0),l.xp6(2),l.Q6J("formGroup",t.userform),l.xp6(4),l.Oqu(l.lcZ(25,46,"name")),l.xp6(2),l.Q6J("ngModel",t.newDepartment.name),l.xp6(1),l.Q6J("ngIf",!t.userform.controls.name.valid&&t.userform.controls.name.dirty),l.xp6(3),l.Oqu(l.lcZ(31,48,"phone")),l.xp6(2),l.Q6J("ngModel",t.newDepartment.phone),l.xp6(1),l.Q6J("ngIf",t.userform.controls.phoneNumber.errors&&t.userform.controls.phoneNumber.dirty&&t.userform.controls.phoneNumber.touched),l.xp6(3),l.Oqu(l.lcZ(37,50,"description")),l.xp6(2),l.Q6J("ngModel",t.newDepartment.description),l.xp6(3),l.s9C("label",l.lcZ(42,52,"save")),l.Q6J("disabled",!t.userform.valid),l.xp6(3),l.s9C("label",l.lcZ(45,54,"cancel")))},directives:[d.V,m.h4,m.$_,g.Hq,f.s,h.iA,m.jx,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,Z.o,p.Q7,s.O5,b.g,v.q],pipes:[y.X$],styles:[""]}),k)}],I=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(J)],a.Bz]}),e}(),M=i(35119),U=i(49635),L=((N=function e(){r(this,e)}).\u0275fac=function(e){return new(e||N)},N.\u0275mod=l.oAB({type:N}),N.\u0275inj=l.cJS({imports:[[s.ez,I,M.n,U.U]]}),N)}}])}();