(self.webpackChunknote=self.webpackChunknote||[]).push([[242],{40242:function(e,t,s){"use strict";s.r(t),s.d(t,{RouteBusAssignmentModule:function(){return f}});var i=s(61116),n=s(49437),o=s(87368),r=s(8361),l=s(28451),u=s(77744),a=s(50052),c=s(63505),p=s(65916),h=s(94217),g=s(49783),Z=s(60649);function A(e,t){1&e&&(o.TgZ(0,"tr",8),o.TgZ(1,"th"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"th"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"th"),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"th"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"th"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"th"),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"th"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"th"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"th"),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,9,"departure")),o.xp6(3),o.Oqu(o.lcZ(6,11,"way")),o.xp6(3),o.Oqu(o.lcZ(9,13,"destination")),o.xp6(3),o.Oqu(o.lcZ(12,15,"description")),o.xp6(3),o.Oqu(o.lcZ(15,17,"vehicle")),o.xp6(3),o.Oqu(o.lcZ(18,19,"plateNumber")),o.xp6(3),o.Oqu(o.lcZ(21,21,"seatCapacity")),o.xp6(3),o.Oqu(o.lcZ(24,23,"totlaHomeServiceUser")),o.xp6(3),o.hij(" ",o.lcZ(27,25,"showUsers")," "))}function d(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr",9),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._uU(14),o.qZA(),o.TgZ(15,"td"),o._uU(16),o.qZA(),o.TgZ(17,"td"),o.TgZ(18,"p-button",10),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().selectRoute(t)}),o.ALo(19,"translate"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(2),o.Oqu(e.busRouteAssignment.route.departure),o.xp6(2),o.Oqu(e.busRouteAssignment.route.way),o.xp6(2),o.Oqu(e.busRouteAssignment.route.destination),o.xp6(2),o.Oqu(e.busRouteAssignment.route.description),o.xp6(2),o.hij(" ",e.busRouteAssignment.bus.name,""),o.xp6(2),o.Oqu(e.busRouteAssignment.bus.platenumber),o.xp6(2),o.Oqu(e.busRouteAssignment.bus.seatCapacity),o.xp6(2),o.Oqu(e.numUser),o.xp6(2),o.s9C("label",o.lcZ(19,9,"show"))}}function q(e,t){1&e&&(o.TgZ(0,"tr"),o.TgZ(1,"th"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"th"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"th"),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"th"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"th"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.hij("",o.lcZ(3,5,"name")," "),o.xp6(3),o.Oqu(o.lcZ(6,7,"model")),o.xp6(3),o.hij("",o.lcZ(9,9,"plateNumber")," "),o.xp6(3),o.Oqu(o.lcZ(12,11,"seatCapacity")),o.xp6(3),o.hij(" ",o.lcZ(15,13,"assign"),""))}function m(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o.TgZ(10,"button",11),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().selectVehicle(t)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(2),o.Oqu(e.name),o.xp6(2),o.Oqu(e.model),o.xp6(2),o.Oqu(e.platenumber),o.xp6(2),o.hij("",e.seatCapacity," ")}}const b=function(){return{width:"50vw"}},T=[{path:"",component:(()=>{class e{constructor(e,t,s,i,n){this.poolService=e,this.messageService=t,this.confirmationService=s,this.sessionService=i,this.routeStateService=n,this.newHomeServiceRequest={routeId:"",userId:"",assigndate:new Date,assignby:"melkamu",isActive:!0},this.newRoutBus={routeId:"",vehicleId:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}ngOnInit(){this.loading=!1,this.user=this.sessionService.getItem("currentUser"),this.getAssignment()}getAssignment(){this.loading=!0,this.poolService.getRoutewithAssignmentWithUser().then(e=>{this.routeAssignment=e.busRouteAssignmentReport,this.loading=!1})}RegisterRequest(e){this.poolService.RegisterHomeService(e).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Information Registered successfully "},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.responseStyle="error";for(const[t,s]of Object.entries(e))this.responseMesssage=this.responseMesssage+s})}Okonclick(){this.responseDialog=!1,location.reload()}selectVehicle(e){this.displayAccept=!1,this.newRoutBus.routeId=e.vehicleId,this.newRoutBus.vehicleId=e.vehicleId,this.poolService.RegisterBusRouteAssignment(this.newRoutBus).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Request Assigned successfully ",this.display=!1,this.submitted=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,s]of Object.entries(e))this.responseMesssage=this.responseMesssage+s;this.submitted=!1})}getVehicle(){this.poolService.getCar().then(e=>{this.vehicle=e,this.loading=!1})}getSelectedRoute(e){console.log(e),this.displayAccept=!0,this.routeId=e.id,this.getVehicle()}selectRoute(e){console.log(e.busRouteAssignment),this.routeStateService.add("user-list","/main/homeservice/user/list",e.busRouteAssignment,!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.q),o.Y36(l.ez),o.Y36(l.YP),o.Y36(u.m),o.Y36(a.v))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-route-bus-assignment"]],decls:18,vars:35,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","modal","visibleChange"],[3,"value","paginator","rows","responsive"],[1,"header-row"],[1,"body-row"],["icon","pi pi-check","styleClass","p-mr-2",3,"label","click"],["type","button","pButton","","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(o._UZ(0,"p-confirmDialog",0),o.TgZ(1,"p-dialog",1),o.NdJ("visibleChange",function(e){return t.responseDialog=e}),o.TgZ(2,"p-header"),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p-footer"),o.TgZ(8,"button",2),o.NdJ("click",function(){return t.Okonclick()}),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"p-table",3),o.YNc(11,A,28,27,"ng-template",4),o.YNc(12,d,20,11,"ng-template",5),o.qZA(),o.TgZ(13,"p-dialog",6),o.NdJ("visibleChange",function(e){return t.displayAccept=e}),o.ALo(14,"translate"),o.TgZ(15,"p-table",7),o.YNc(16,q,16,15,"ng-template",4),o.YNc(17,m,11,4,"ng-template",5),o.qZA(),o.qZA()),2&e&&(o.Akn(o.DdM(32,b)),o.Q6J("baseZIndex",1e4),o.xp6(1),o.Akn(o.DdM(33,b)),o.Q6J("visible",t.responseDialog)("modal",!0),o.xp6(2),o.Tol(t.responseStyle),o.xp6(1),o.hij(" ",t.responseTitle," "),o.xp6(1),o.Tol(t.responseStyle),o.xp6(1),o.hij(" ",t.responseMesssage," "),o.xp6(2),o.s9C("label",o.lcZ(9,28,"ok")),o.xp6(2),o.Q6J("value",t.routeAssignment)("autoLayout",!0)("loading",t.loading),o.xp6(3),o.Akn(o.DdM(34,b)),o.s9C("header",o.lcZ(14,30,"selectVehicleandAssign")),o.Q6J("visible",t.displayAccept)("modal",!0),o.xp6(2),o.Q6J("value",t.vehicle)("paginator",!0)("rows",5)("responsive",!0))},directives:[c.Q,p.V,l.h4,l.$_,h.Hq,g.iA,l.jx,h.zx],pipes:[Z.X$],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.Bz.forChild(T)],n.Bz]}),e})();var x=s(35119);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez,v,x.n]]}),e})()}}]);