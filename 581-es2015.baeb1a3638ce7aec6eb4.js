(self.webpackChunknote=self.webpackChunknote||[]).push([[581],{73581:function(e,s,t){"use strict";t.r(s),t.d(s,{HttpLoaderFactory:function(){return k},LoginModule:function(){return M}});var n=t(61116),r=t(49437),i=t(529),o=t(87368),a=t(23332),l=t(68520),c=t(50052),p=t(77744),g=t(60649),u=t(55892),d=t(8361),h=t(28451),Z=t(31041),f=t(24648),m=t(14313),w=t(6418),v=t(94217),b=t(13682);function A(e,s){if(1&e&&o._UZ(0,"p-message",24),2&e){const e=o.oxw();o.s9C("text",e.errorMessage)}}function x(e,s){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().showPassword=!0}),o._UZ(1,"i",26),o.qZA()}}function q(e,s){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().showPassword=!1}),o._UZ(1,"i",27),o.qZA()}}function T(e,s){1&e&&o._UZ(0,"i",28)}const S=[{path:"",component:(()=>{class e{constructor(e,s,t,n,r,i,o,a){this.userService=e,this.toastService=s,this.routeStateService=t,this.sessionService=n,this.translate=r,this.userContextService=i,this.poolService=o,this.messageService=a,this.errorMessage="",this.showError=!1,this.now=new Date}ngOnInit(){this.disableSubmit=!1,this.userName="",this.password="",this.locale=this.sessionService.getItem("ng-prime-language"),this.version=i.N.version}onClickLogin(){return this.showError=!1,""==this.userName||""==this.password?(this.disableSubmit=!1,this.showError=!0,this.errorMessage="Please enter the user name and password first",!1):(this.disableSubmit=!0,this.poolService.getUser({UserName:this.userName,Password:this.password}).subscribe(e=>{for(var s=0;s<e.user.roles.length;s++)this.UserRoles=e.user.roles[s];return this.userContextService.setUser(e),this.routeStateService.add("Dashboard","/main/dashboard",null,!0),!0},e=>(console.log(e),this.disableSubmit=!1,this.showError=!0,this.errorMessage=e.error,!1)))}onLanguageChange(e){this.locale=e.target.value,null!=this.locale&&null!=this.locale&&0!=this.locale.length||(this.locale="en"),this.translate.use(this.locale),this.sessionService.setItem("ng-prime-language",this.locale)}}return e.\u0275fac=function(s){return new(s||e)(o.Y36(a.M),o.Y36(l.k),o.Y36(c.v),o.Y36(p.m),o.Y36(g.sK),o.Y36(u.o),o.Y36(d.q),o.Y36(h.ez))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:42,vars:26,consts:[[1,"login-panel"],[1,"p-grid","p-nogutter","p-justify-center","p-align-center"],[1,"p-xl-4","p-lg-6","p-md-8","p-sm-10",2,"background-color","rgba(240, 248, 255,0.8)","height","100%"],[1,"p-col-12",2,"text-align","center"],["src","assets/images/eepicon.jpg"],[2,"font-size","20px"],["severity","error",3,"text",4,"ngIf"],[1,"p-col-10",2,"text-align","center","margin-left","35px"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["id","input-username","type","text","size","14","pKeyFilter","alphanum","pInputText","",3,"ngModel","placeholder","ngModelChange"],[1,"fa","fa-key"],["id","input-password","type","password","size","10","pPassword","",3,"feedback","showPassword","ngModel","placeholder","ngModelChange"],[3,"click",4,"ngIf"],[2,"text-align","center","font-size","x-large","margin","10px"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"p-fluid","p-formgrid","p-col-8","p-lg-offset-2"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],[1,"p-grid",2,"margin-top","35px"],[1,"p-col-6"],[3,"change"],["value","en",3,"selected"],["value","am",3,"selected"],["severity","error",3,"text"],[3,"click"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"br"),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o._UZ(5,"img",4),o.TgZ(6,"p",5),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.YNc(9,A,1,1,"p-message",6),o.qZA(),o.TgZ(10,"div",7),o.TgZ(11,"div",8),o.TgZ(12,"span",9),o._UZ(13,"i",10),o.qZA(),o.TgZ(14,"input",11),o.NdJ("ngModelChange",function(e){return s.userName=e}),o.ALo(15,"translate"),o.qZA(),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"div",8),o.TgZ(18,"span",9),o._UZ(19,"i",12),o.qZA(),o.TgZ(20,"input",13),o.NdJ("ngModelChange",function(e){return s.password=e}),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"span",9),o.YNc(23,x,2,0,"a",14),o.YNc(24,q,2,0,"a",14),o.qZA(),o.qZA(),o.TgZ(25,"div",15),o.YNc(26,T,1,0,"i",16),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"div",17),o.TgZ(29,"button",18),o.NdJ("click",function(){return s.onClickLogin()}),o.ALo(30,"translate"),o.qZA(),o.qZA(),o.TgZ(31,"div",19),o.TgZ(32,"div",20),o._UZ(33,"label"),o._uU(34),o.ALo(35,"translate"),o.qZA(),o.TgZ(36,"div",20),o.TgZ(37,"select",21),o.NdJ("change",function(e){return s.onLanguageChange(e)}),o.TgZ(38,"option",22),o._uU(39,"English"),o.qZA(),o.TgZ(40,"option",23),o._uU(41,"Amharic"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Oqu(o.lcZ(8,16,"title")),o.xp6(2),o.Q6J("ngIf",s.showError),o.xp6(5),o.s9C("placeholder",o.lcZ(15,18,"userName")),o.Q6J("ngModel",s.userName),o.xp6(6),o.s9C("placeholder",o.lcZ(21,20,"password")),o.Q6J("feedback",!1)("showPassword",s.showPassword)("ngModel",s.password),o.xp6(3),o.Q6J("ngIf",!s.showPassword),o.xp6(1),o.Q6J("ngIf",s.showPassword),o.xp6(2),o.Q6J("ngIf",s.disableSubmit),o.xp6(3),o.s9C("label",o.lcZ(30,22,"Login")),o.Q6J("disabled",s.disableSubmit),o.xp6(5),o.hij(" ",o.lcZ(35,24,"chooseLanguage")," "),o.xp6(4),o.Q6J("selected","en"==s.locale),o.xp6(2),o.Q6J("selected","am"==s.locale))},directives:[n.O5,Z.Fj,f.Fr,m.o,Z.JJ,Z.On,w.QK,v.Hq,Z.YN,Z.Kr,b.q],pipes:[g.X$],styles:[".language-menu[_ngcontent-%COMP%]{position:absolute;right:0;padding:10px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.Bz.forChild(S)],r.Bz]}),e})();var N=t(35119),J=t(42693),U=t(49037);function k(e){return new U.w(e)}let M=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.ez,C,N.n,g.aw.forChild({loader:{provide:g.Zw,useFactory:k,deps:[J.eN]},isolate:!1})],g.aw]}),e})()}}]);