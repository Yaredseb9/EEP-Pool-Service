(self.webpackChunknote=self.webpackChunknote||[]).push([[699],{84699:function(t,e,o){"use strict";o.r(e),o.d(e,{HttpLoaderFactory:function(){return _},ReportModule:function(){return M}});var n=o(61116),i=o(49437),r=o(87368),s=o(8361),a=o(65916),l=o(28451),p=o(94217),c=o(46326),g=o(31041),u=o(49783),h=o(60649);function Z(t,e){1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Oqu(r.lcZ(3,4,"date")),r.xp6(3),r.Oqu(r.lcZ(6,6,"totalAssignment")),r.xp6(3),r.hij(" ",r.lcZ(9,8,"expectedDistance"),""),r.xp6(3),r.Oqu(r.lcZ(12,10,"actualDistance")))}function d(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.ALo(3,"date"),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(r.xi3(3,4,t.assignDate,"MMM,dd/yyyy")),r.xp6(3),r.Oqu(t.totalAssignment),r.xp6(2),r.Oqu(t.totalExDistance),r.xp6(2),r.Oqu(t.totalTrDistance)}}function A(t,e){1&t&&(r.TgZ(0,"tr"),r._UZ(1,"th"),r.qZA())}function q(t,e){1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Oqu(r.lcZ(3,4,"date")),r.xp6(3),r.Oqu(r.lcZ(6,6,"totalAssignment")),r.xp6(3),r.hij(" ",r.lcZ(9,8,"expectedDistance"),""),r.xp6(3),r.Oqu(r.lcZ(12,10,"actualDistance")))}function T(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.ALo(3,"date"),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(r.xi3(3,4,t.assignDate,"MMM,dd/yyyy")),r.xp6(3),r.Oqu(t.totalAssignment),r.xp6(2),r.Oqu(t.totalExDistance),r.xp6(2),r.Oqu(t.totalTrDistance)}}function f(t,e){if(1&t&&(r.TgZ(0,"tr",7),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"tr"),r.TgZ(4,"p-table",8),r.YNc(5,q,13,12,"ng-template",5),r.YNc(6,T,10,7,"ng-template",6),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.lnq(" Vehicle: ",t.vehicle.platenumber,"\nDriver : ",t.vehicle.driverName,"\nDriver Phone : ",t.vehicle.driverPhone," "),r.xp6(2),r.Q6J("value",t.totalAssignmenttList)}}const m=function(){return{width:"50vw"}},v=[{path:"",component:(()=>{class t{constructor(t){this.poolService=t,this.from=new Date,this.to=new Date,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}ngOnInit(){this.vehicleloading=!1,this.loading=!1,this.getReport("2021-06-04","2021-06-08"),this.getReportByVehicle("2021-06-04","2021-06-08")}getReport(t,e){this.loading=!0,this.poolService.getTotalPoolAssignmentReport(t,e).then(t=>{this.report=t.totalAssignmenttList,this.loading=!1})}getReportByVehicle(t,e){this.vehicleloading=!0,this.poolService.getTotalPoolAssignmentReportByVehicle(t,e).then(t=>{this.vehiclereport=t.vehicleTotalAssignmenttList,this.vehicleloading=!1})}generateReport(){if(this.compareDate(new Date(this.from),new Date(this.to)))return this.DisplayError("Starting Time Should be grater than end time Time"),!1;let t=this.from.getFullYear()+"-"+(this.from.getMonth()+1)+"-"+this.from.getDate(),e=this.to.getFullYear()+"-"+(this.to.getMonth()+1)+"-"+this.to.getDate();this.getReport(t,e),this.getReportByVehicle(t,e)}compareDate(t,e){return t>e}DisplayError(t){this.iserror=!0,this.responseStyle="error",this.responseDialog=!0,this.responseTitle="Error!!!",this.responseMesssage=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.q))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-report"]],decls:21,vars:34,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[3,"ngModel","showIcon","ngModelChange"],["label","Generate Report",3,"click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[2,"background-color","rgb(68, 67, 65)","color","#ffffff"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"p-dialog",0),r.NdJ("visibleChange",function(t){return e.responseDialog=t}),r.TgZ(1,"p-header"),r.TgZ(2,"p"),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.TgZ(6,"p-footer"),r.TgZ(7,"button",1),r.NdJ("click",function(){return e.responseDialog=!1}),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.qZA(),r._uU(9," From "),r.TgZ(10,"p-calendar",2),r.NdJ("ngModelChange",function(t){return e.from=t})("ngModelChange",function(t){return e.from=t}),r.qZA(),r._uU(11," To "),r.TgZ(12,"p-calendar",2),r.NdJ("ngModelChange",function(t){return e.to=t})("ngModelChange",function(t){return e.to=t}),r.qZA(),r._uU(13," \xa0"),r.TgZ(14,"p-button",3),r.NdJ("click",function(){return e.generateReport()}),r.qZA(),r.TgZ(15,"p-table",4),r.YNc(16,Z,13,12,"ng-template",5),r.YNc(17,d,10,7,"ng-template",6),r.qZA(),r.TgZ(18,"p-table",4),r.YNc(19,A,2,0,"ng-template",5),r.YNc(20,f,7,4,"ng-template",6),r.qZA()),2&t&&(r.Akn(r.DdM(33,m)),r.Q6J("visible",e.responseDialog)("modal",!0),r.xp6(2),r.Tol(e.responseStyle),r.xp6(1),r.hij(" ",e.responseTitle," "),r.xp6(1),r.Tol(e.responseStyle),r.xp6(1),r.hij(" ",e.responseMesssage," "),r.xp6(2),r.s9C("label",r.lcZ(8,31,"ok")),r.xp6(3),r.Q6J("ngModel",e.from)("ngModel",e.from)("showIcon",!0),r.xp6(2),r.Q6J("ngModel",e.to)("ngModel",e.to)("showIcon",!0),r.xp6(3),r.Q6J("value",e.report)("autoLayout",!0)("loading",e.loading)("paginator",!0)("rows",7)("responsive",!0),r.xp6(3),r.Q6J("value",e.vehiclereport)("autoLayout",!0)("loading",e.vehicleloading)("paginator",!0)("rows",5)("responsive",!0))},directives:[a.V,l.h4,l.$_,p.Hq,c.f,g.JJ,g.On,p.zx,u.iA,l.jx],pipes:[h.X$,n.uU],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.Bz.forChild(v)],i.Bz]}),t})();var y=o(35119),D=o(42693),U=o(49037);function _(t){return new U.w(t)}let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,x,y.n,h.aw.forChild({loader:{provide:h.Zw,useFactory:_,deps:[D.eN]},isolate:!1})],h.aw]}),t})()}}]);