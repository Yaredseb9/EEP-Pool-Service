(self.webpackChunknote=self.webpackChunknote||[]).push([[200],{39723:function(e,t,n){"use strict";n.r(t),n.d(t,{VehicleModule:function(){return H}});var s=n(61116),i=n(49437),a=n(31041),r=n(87368),o=n(8361),l=n(60649),c=n(65916),u=n(28451),h=n(94217),p=n(49783),d=n(23625),g=n(14313),Z=n(5590),m=n(81357),f=n(89548),A=n(13682);function v(e,t){1&e&&(r.TgZ(0,"tr",34),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"th"),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"th"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"th"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,8,"name"),""),r.xp6(3),r.Oqu(r.lcZ(6,10,"plateNumber")),r.xp6(3),r.Oqu(r.lcZ(9,12,"driver")),r.xp6(3),r.Oqu(r.lcZ(12,14,"phone")),r.xp6(3),r.Oqu(r.lcZ(15,16,"seatCapacity")),r.xp6(3),r.Oqu(r.lcZ(18,18,"useFor")),r.xp6(3),r.Oqu(r.lcZ(21,20,"owner")),r.xp6(3),r.Oqu(r.lcZ(24,22,"action")))}function y(e,t){1&e&&r._UZ(0,"span",41)}const q=function(e,t,n){return{workingVehicle:e,activeVehicle:t,inactiveVehicle:n}};function T(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",35),r.TgZ(1,"td"),r.YNc(2,y,1,0,"span",36),r._UZ(3,"span",37),r.TgZ(4,"label"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.TgZ(19,"td"),r._UZ(20,"p-menu",38,39),r.TgZ(22,"button",40),r.NdJ("click",function(t){return r.CHM(e),r.MAs(21).toggle(t)}),r.ALo(23,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw();r.xp6(2),r.Q6J("ngIf",e.isSpecial),r.xp6(1),r.Q6J("ngClass",r.kEZ(16,q,"working"===e.status,"active"===e.status,"inactive"===e.status)),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.platenumber),r.xp6(2),r.hij("",e.driverName," "),r.xp6(2),r.hij(" ",e.driverPhone,""),r.xp6(2),r.Oqu(e.seatCapacity),r.xp6(2),r.Oqu(r.lcZ(16,12,e.usedFor)),r.xp6(3),r.hij(" ",e.owner.name," "),r.xp6(2),r.Q6J("popup",!0)("model",n.getRowData(e)),r.xp6(2),r.s9C("label",r.lcZ(23,14,"action"))}}function b(e,t){1&e&&r._UZ(0,"p-message",42)}function w(e,t){1&e&&r._UZ(0,"p-message",45)}function x(e,t){if(1&e&&(r.TgZ(0,"div",43),r.YNc(1,w,1,0,"p-message",44),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.userform.controls.seatCapacity.errors.required)}}function M(e,t){if(1&e&&(r.TgZ(0,"div",47),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.AsE("",r.lcZ(2,2,"reasonStatusChange")," :",e.vehicleInfo.statusChangeReason,"")}}function _(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"a",53),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.changeSpeciality(t.vehicleInfo.vehicleId,!0)}),r._uU(2," make special"),r.qZA(),r.qZA()}}function D(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"a",53),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.changeSpeciality(t.vehicleInfo.vehicleId,!1)}),r._uU(2," change speciality"),r.qZA(),r.qZA()}}function U(e,t){if(1&e&&(r.TgZ(0,"div",54),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.AsE("",r.lcZ(2,2,"specialityReason")," :",e.vehicleInfo.specialityReason," ")}}function C(e,t){if(1&e&&(r.TgZ(0,"div",46),r.TgZ(1,"div",47),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",47),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",47),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"div",47),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"div",47),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"div",47),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"div",47),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"div",47),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.YNc(25,M,3,4,"div",48),r.TgZ(26,"div",49),r._uU(27),r.ALo(28,"translate"),r.ALo(29,"date"),r.qZA(),r.TgZ(30,"div",47),r._uU(31),r.ALo(32,"translate"),r.YNc(33,_,3,0,"span",50),r.YNc(34,D,3,0,"span",50),r.qZA(),r.YNc(35,U,3,4,"div",51),r.TgZ(36,"div",52),r.TgZ(37,"h4"),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.qZA(),r.TgZ(40,"div",47),r._uU(41),r.ALo(42,"translate"),r.qZA(),r.TgZ(43,"div",47),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"div",47),r._uU(47),r.ALo(48,"translate"),r.qZA(),r.TgZ(49,"div",47),r._uU(50),r.ALo(51,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.AsE("",r.lcZ(3,33,"name")," :",e.vehicleInfo.name,""),r.xp6(3),r.AsE("",r.lcZ(6,35,"model")," :",e.vehicleInfo.model,""),r.xp6(3),r.AsE("",r.lcZ(9,37,"plateNumber")," :",e.vehicleInfo.platenumber,""),r.xp6(3),r.AsE("",r.lcZ(12,39,"seatCapacity")," :",e.vehicleInfo.seatCapacity,""),r.xp6(3),r.AsE("",r.lcZ(15,41,"driver")," :",e.vehicleInfo.driverName,""),r.xp6(3),r.AsE("",r.lcZ(18,43,"phone")," :",e.vehicleInfo.driverPhone,""),r.xp6(3),r.AsE("",r.lcZ(21,45,"status")," :",e.vehicleInfo.status,""),r.xp6(3),r.AsE("",r.lcZ(24,47,"useFor")," :",e.vehicleInfo.usedFor,""),r.xp6(2),r.Q6J("ngIf","inactive"==e.vehicleInfo.status),r.xp6(2),r.AsE("",r.lcZ(28,49,"lastWorking")," :",r.xi3(29,51,e.vehicleInfo.lastWorkingAt,"MMM/dd/yyyy \u1361hh:mm")," "),r.xp6(4),r.AsE("",r.lcZ(32,54,"special")," : ",e.vehicleInfo.isSpecial,"\n"),r.xp6(2),r.Q6J("ngIf",!e.vehicleInfo.isSpecial),r.xp6(1),r.Q6J("ngIf",e.vehicleInfo.isSpecial),r.xp6(1),r.Q6J("ngIf",e.vehicleInfo.isSpecial),r.xp6(3),r.hij("",r.lcZ(39,56,"owner")," "),r.xp6(3),r.AsE(" ",r.lcZ(42,58,"name")," :",e.vehicleInfo.owner.name,""),r.xp6(3),r.AsE(" ",r.lcZ(45,60,"type")," :",e.vehicleInfo.owner.type,""),r.xp6(3),r.AsE(" ",r.lcZ(48,62,"phone")," :",e.vehicleInfo.owner.phone,""),r.xp6(3),r.AsE(" ",r.lcZ(51,64,"address")," :",e.vehicleInfo.owner.address,"")}}const S=function(){return{width:"50vw"}},I=function(){return{width:"40vw"}},J=function(){return{width:"30vw"}},k=function(){return{width:"60vw"}};let N=(()=>{class e{constructor(e,t,n){this.poolService=e,this.fb=t,this.translateService=n,this.registerVehicle=!1,this.statusUpdateDisplay=!1,this.statusUpdateDialogTitle="statusUpdateReson",this.updateVehicle=!1,this.newVehicleStatus={status:"",statusChangeReason:""},this.VehicleSpecial={isSpecial:!1,specialityReason:"for urgent task"},this.newVehicle={name:"",model:"",platenumber:"",seatCapacity:0,status:"active",driverName:"",usedFor:"indoor",driverPhone:"",ownerId:""},this.statusUpdatesubmitted=!1,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.vehicleUse=[{name:"For Indoor",value:"indoor"},{name:"For Field",value:"field"},{name:"For Home Service",value:"home"}],this.vehicleStatus=[{name:"Active",value:"active"},{name:"Working",value:"working"},{name:"InActive",value:"inactive"}],this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}ngOnInit(){this.vehicleInfo="",this.loading=!1,this.display=!1,this.detailDisplay=!1,this.statusUpdatesubmitted=!1,this.getVehicle(),this.getVehicleOwner(),this.userform=this.fb.group({owner:new a.NI("",a.kI.required),use:new a.NI("",a.kI.required),name:new a.NI("",a.kI.required),model:new a.NI("",a.kI.required),seatCapacity:new a.NI("",a.kI.required),platenumber:new a.NI("",a.kI.required),driverPhone:new a.NI(""),driverName:new a.NI("")}),this.statusUpdateform=this.fb.group({vehiclestatus:new a.NI("",a.kI.required),reason:new a.NI("",a.kI.required)})}getVehicle(){this.loading=!0,this.poolService.getCar().then(e=>{this.car=e,this.loading=!1})}getVehicleOwner(){this.poolService.getOwner().then(e=>{this.states=e})}register(){this.userform.reset(),this.display=!0,this.registerVehicle=!0,this.updateVehicle=!1,this.dialogTitle="registerVehicleForm"}update(e){this.registerVehicle=!1,this.updateVehicle=!0,this.dialogTitle="updateVehicleForm",this.display=!0,this.Id=e.vehicleId,this.newVehicle.name=e.name,this.newVehicle.model=e.model,this.newVehicle.platenumber=e.platenumber,this.newVehicle.seatCapacity=e.seatCapacity,this.newVehicle.driverName=e.driverName,this.newVehicle.driverPhone=e.driverPhone,this.selectedType=this.states.filter(t=>t.ownerId==e.owner.ownerId)[0],this.selectedUse=this.vehicleUse.filter(t=>t.value==e.usedFor)[0]}onClickRegisterVehicle(){this.registerVehicle?this.poolService.RegisterVehicle(this.vehicles).subscribe(e=>{this.DisplaySuccessMessage("Information Registered successfully ")},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n}):this.updateVehicle&&this.poolService.updateVehicle(this.vehicles,this.Id).subscribe(e=>{this.DisplaySuccessMessage("Information Updated successfully ")},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n})}get vehicles(){return this.newVehicle.name=this.userform.controls.name.value,this.newVehicle.model=this.userform.controls.model.value,this.newVehicle.platenumber=this.userform.controls.platenumber.value,this.newVehicle.seatCapacity=this.userform.controls.seatCapacity.value,this.newVehicle.driverPhone=this.userform.controls.driverPhone.value,this.newVehicle.driverName=this.userform.controls.driverName.value,this.newVehicle.ownerId=this.selectedType.ownerId,this.newVehicle.usedFor=this.selectedUse.value,this.newVehicle}Okonclick(){this.responseDialog=!1,location.reload()}getRowData(e){return this.items=[{label:this.translateService.instant("updateData"),icon:"pi pi-fw pi-check",command:t=>{this.update(e)}},{label:this.translateService.instant("updateStatus"),command:t=>{this.getVehicleStatusUpdate(e)},icon:"pi pi-fw pi-check"},{label:this.translateService.instant("detail"),command:t=>{this.getVehicleDetail(e)},icon:"pi pi-fw pi-check"}]}getVehicleStatusUpdate(e){this.statusUpdateDisplay=!0,this.statusUpdateDialogTitle="statusUpdateResonForm",this.statusUpdateData=e,this.Id=e.vehicleId}getVehicleDetail(e){this.detailDisplay=!0,this.vehicleInfo=e}onClickstatusUpdate(){this.newVehicleStatus.statusChangeReason=this.statusUpdateform.controls.reason.value,this.newVehicleStatus.status=this.selectedStatus.value,this.statusUpdateDisplay=!1,this.poolService.updateVehicleStatus(this.newVehicleStatus,this.Id).subscribe(e=>{this.DisplaySuccessMessage("Information Updated successfully ")},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n})}changeSpeciality(e,t){this.VehicleSpecial.isSpecial=t,this.poolService.updateVehicleSpeciality(this.VehicleSpecial,e).subscribe(e=>{this.DisplaySuccessMessage("Vehicle Speciality Updated successfully ")},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n})}DisplaySuccessMessage(e){this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage=e,this.display=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.q),r.Y36(a.qu),r.Y36(l.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-vehicle"]],decls:105,vars:121,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[2,"text-align","right","margin","5px"],[1,"pi","pi-circle-on","activeVehicle"],[1,"pi","pi-circle-on","workingVehicle"],[1,"pi","pi-circle-on","inactiveVehicle"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-6","p-md-6"],["formControlName","owner","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["formControlName","use","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["type","text","formControlName","model","pInputText","","required","",3,"ngModel","ngModelChange"],["type","text","formControlName","platenumber","pInputText","","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","seatCapacity","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["id","phone","type","text","formControlName","driverName","pInputText","",3,"ngModel","ngModelChange"],["type","text","formControlName","driverPhone","pInputText","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","reset",1,"ui-button-raised",3,"label"],["formControlName","vehiclestatus","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","reason","pInputTextarea","","required",""],["pButton","",1,"ui-button-raised",3,"label","click"],["class","p-grid",4,"ngIf"],[1,"header-row"],[1,"body-row"],["class","pi pi-th-large",4,"ngIf"],[1,"pi","pi-circle-on",3,"ngClass"],["appendTo","body",3,"popup","model"],["menu",""],["pButton","","icon","pi pi-list","type","button",3,"label","click"],[1,"pi","pi-th-large"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","seat capacity is required",4,"ngIf"],["severity","error","text","seat capacity is required"],[1,"p-grid"],[1,"p-col-4"],["class","p-col-4",4,"ngIf"],[1,"p-col-8"],[4,"ngIf"],["class","p-col-6",4,"ngIf"],[1,"p-col-12",2,"text-align","center"],[3,"routerLink","click"],[1,"p-col-6"]],template:function(e,t){1&e&&(r.TgZ(0,"p-dialog",0),r.NdJ("visibleChange",function(e){return t.responseDialog=e}),r.TgZ(1,"p-header"),r.TgZ(2,"p"),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.TgZ(6,"p-footer"),r.TgZ(7,"button",1),r.NdJ("click",function(){return t.Okonclick()}),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",2),r._UZ(10,"span",3),r.TgZ(11,"label"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r._UZ(14,"span",4),r.TgZ(15,"label"),r._uU(16),r.ALo(17,"translate"),r.qZA(),r._UZ(18,"span",5),r.TgZ(19,"label"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r._uU(22," \xa0 "),r.TgZ(23,"button",6),r.NdJ("click",function(){return t.register()}),r.ALo(24,"translate"),r.qZA(),r.qZA(),r.TgZ(25,"p-table",7),r.YNc(26,v,25,24,"ng-template",8),r.YNc(27,T,24,20,"ng-template",9),r.qZA(),r.TgZ(28,"p-dialog",10),r.NdJ("visibleChange",function(e){return t.display=e}),r.ALo(29,"translate"),r.TgZ(30,"form",11),r.NdJ("ngSubmit",function(){return t.onClickRegisterVehicle()}),r.TgZ(31,"div",12),r.TgZ(32,"div",13),r.TgZ(33,"label"),r._uU(34),r.ALo(35,"translate"),r.qZA(),r.TgZ(36,"p-dropdown",14),r.NdJ("ngModelChange",function(e){return t.selectedType=e}),r.qZA(),r.qZA(),r.TgZ(37,"div",13),r.TgZ(38,"label"),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"p-dropdown",15),r.NdJ("ngModelChange",function(e){return t.selectedUse=e}),r.qZA(),r.qZA(),r.TgZ(42,"div",13),r.TgZ(43,"label"),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"input",16),r.NdJ("ngModelChange",function(e){return t.newVehicle.name=e}),r.qZA(),r.YNc(47,b,1,0,"p-message",17),r.qZA(),r.TgZ(48,"div",13),r.TgZ(49,"label"),r._uU(50),r.ALo(51,"translate"),r.qZA(),r.TgZ(52,"input",18),r.NdJ("ngModelChange",function(e){return t.newVehicle.model=e}),r.qZA(),r.qZA(),r.TgZ(53,"div",13),r.TgZ(54,"label"),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.TgZ(57,"input",19),r.NdJ("ngModelChange",function(e){return t.newVehicle.platenumber=e}),r.qZA(),r.qZA(),r.TgZ(58,"div",13),r.TgZ(59,"label"),r._uU(60),r.ALo(61,"translate"),r.qZA(),r.TgZ(62,"input",20),r.NdJ("ngModelChange",function(e){return t.newVehicle.seatCapacity=e}),r.qZA(),r.qZA(),r.YNc(63,x,2,1,"div",21),r.TgZ(64,"div",22),r.TgZ(65,"label"),r._uU(66),r.ALo(67,"translate"),r.qZA(),r.TgZ(68,"input",23),r.NdJ("ngModelChange",function(e){return t.newVehicle.driverName=e}),r.qZA(),r.qZA(),r.TgZ(69,"div",22),r.TgZ(70,"label"),r._uU(71),r.ALo(72,"translate"),r.qZA(),r.TgZ(73,"input",24),r.NdJ("ngModelChange",function(e){return t.newVehicle.driverPhone=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(74,"div",12),r.TgZ(75,"div",25),r.TgZ(76,"button",26),r.NdJ("click",function(){return t.onClickRegisterVehicle()}),r.ALo(77,"translate"),r.qZA(),r.qZA(),r.TgZ(78,"div",25),r._UZ(79,"button",27),r.ALo(80,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(81,"p-dialog",10),r.NdJ("visibleChange",function(e){return t.statusUpdateDisplay=e}),r.ALo(82,"translate"),r.TgZ(83,"form",11),r.NdJ("ngSubmit",function(){return t.onClickstatusUpdate()}),r.TgZ(84,"div",12),r.TgZ(85,"div",22),r.TgZ(86,"label"),r._uU(87),r.ALo(88,"translate"),r.qZA(),r.TgZ(89,"p-dropdown",28),r.NdJ("ngModelChange",function(e){return t.selectedStatus=e}),r.qZA(),r.qZA(),r.TgZ(90,"div",29),r.TgZ(91,"label",30),r._uU(92),r.ALo(93,"translate"),r.qZA(),r._UZ(94,"textarea",31),r.qZA(),r.TgZ(95,"div",25),r.TgZ(96,"button",26),r.NdJ("click",function(){return t.onClickstatusUpdate()}),r.ALo(97,"translate"),r.qZA(),r.qZA(),r.TgZ(98,"div",25),r.TgZ(99,"button",32),r.NdJ("click",function(){return t.statusUpdateDisplay=!1}),r.ALo(100,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(101,"p-dialog",10),r.NdJ("visibleChange",function(e){return t.detailDisplay=e}),r.ALo(102,"translate"),r.TgZ(103,"p-panel"),r.YNc(104,C,52,66,"div",33),r.qZA(),r.qZA()),2&e&&(r.Akn(r.DdM(117,S)),r.Q6J("visible",t.responseDialog)("modal",!0),r.xp6(2),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseTitle," "),r.xp6(1),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseMesssage," "),r.xp6(2),r.s9C("label",r.lcZ(8,73,"ok")),r.xp6(5),r.Oqu(r.lcZ(13,75,"active")),r.xp6(4),r.Oqu(r.lcZ(17,77,"working")),r.xp6(4),r.Oqu(r.lcZ(21,79,"inactive")),r.xp6(3),r.s9C("label",r.lcZ(24,81,"register")),r.xp6(2),r.Q6J("value",t.car)("paginator",!0)("rows",10)("autoLayout",!0)("loading",t.loading),r.xp6(3),r.Akn(r.DdM(118,I)),r.s9C("header",r.lcZ(29,83,t.dialogTitle)),r.Q6J("visible",t.display)("transitionOptions","0ms")("modal",!0),r.xp6(2),r.Q6J("formGroup",t.userform),r.xp6(4),r.Oqu(r.lcZ(35,85,"vehicleOwner")),r.xp6(2),r.Q6J("options",t.states)("ngModel",t.selectedType),r.xp6(3),r.Oqu(r.lcZ(40,87,"vehicleUse")),r.xp6(2),r.Q6J("options",t.vehicleUse)("ngModel",t.selectedUse),r.xp6(3),r.Oqu(r.lcZ(45,89,"name")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.name),r.xp6(1),r.Q6J("ngIf",!t.userform.controls.name.valid&&t.userform.controls.name.dirty),r.xp6(3),r.Oqu(r.lcZ(51,91,"model")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.model),r.xp6(3),r.Oqu(r.lcZ(56,93,"plateNumber")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.platenumber),r.xp6(3),r.Oqu(r.lcZ(61,95,"seatCapacity")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.seatCapacity),r.xp6(1),r.Q6J("ngIf",t.userform.controls.seatCapacity.errors&&t.userform.controls.seatCapacity.dirty&&t.userform.controls.seatCapacity.touched),r.xp6(3),r.Oqu(r.lcZ(67,97,"driverName")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.driverName),r.xp6(3),r.Oqu(r.lcZ(72,99,"driverPhone")),r.xp6(2),r.Q6J("ngModel",t.newVehicle.driverPhone),r.xp6(3),r.s9C("label",r.lcZ(77,101,"register")),r.Q6J("disabled",!t.userform.valid),r.xp6(3),r.s9C("label",r.lcZ(80,103,"reset")),r.xp6(2),r.Akn(r.DdM(119,J)),r.s9C("header",r.lcZ(82,105,t.statusUpdateDialogTitle)),r.Q6J("visible",t.statusUpdateDisplay)("transitionOptions","0ms")("modal",!0),r.xp6(2),r.Q6J("formGroup",t.statusUpdateform),r.xp6(4),r.Oqu(r.lcZ(88,107,"status")),r.xp6(2),r.Q6J("options",t.vehicleStatus)("ngModel",t.selectedStatus),r.xp6(3),r.Oqu(r.lcZ(93,109,"reason")),r.xp6(4),r.s9C("label",r.lcZ(97,111,"register")),r.Q6J("disabled",!t.statusUpdateform.valid||t.statusUpdatesubmitted),r.xp6(3),r.s9C("label",r.lcZ(100,113,"cancel")),r.xp6(2),r.Akn(r.DdM(120,k)),r.s9C("header",r.lcZ(102,115,"vehicleDetailTitle")),r.Q6J("visible",t.detailDisplay)("transitionOptions","0ms")("modal",!0),r.xp6(3),r.Q6J("ngIf",t.vehicleInfo))},directives:[c.V,u.h4,u.$_,h.Hq,p.iA,u.jx,a._Y,a.JL,a.sg,d.Lt,a.JJ,a.u,a.Q7,a.Fj,g.o,s.O5,a.wV,Z.g,m.s,s.mk,f.v2,A.q,i.yS],pipes:[l.X$,s.uU],styles:[""]}),e})();var L=n(89521);function V(e,t){1&e&&(r.TgZ(0,"tr",15),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"th"),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"th"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"th"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,8,"name")),r.xp6(3),r.Oqu(r.lcZ(6,10,"plateNumber")),r.xp6(3),r.Oqu(r.lcZ(9,12,"goto")),r.xp6(3),r.Oqu(r.lcZ(12,14,"driver")),r.xp6(3),r.Oqu(r.lcZ(15,16,"phone")),r.xp6(3),r.Oqu(r.lcZ(18,18,"expectedDistance")),r.xp6(3),r.Oqu(r.lcZ(21,20,"assignDate")),r.xp6(3),r.Oqu(r.lcZ(24,22,"action")))}function O(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",16),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.ALo(15,"date"),r.qZA(),r.TgZ(16,"td"),r.TgZ(17,"button",14),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().TaskEndForm(t)}),r.ALo(18,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw();r.xp6(2),r.hij("",e.vehicles.name," "),r.xp6(2),r.Oqu(e.vehicles.platenumber),r.xp6(2),r.Oqu(e.requester.goto),r.xp6(2),r.Oqu(e.vehicles.driverName),r.xp6(2),r.Oqu(e.vehicles.driverPhone),r.xp6(2),r.Oqu(e.expectedKm),r.xp6(2),r.AsE(" ",n.supportMethod.getLanguageDate(e.assignedDate)," ",r.xi3(15,9,e.assignedDate,"hh:mm")," "),r.xp6(3),r.s9C("label",r.lcZ(18,12,"endTask"))}}const E=function(){return{width:"50vw"}},F=function(){return{width:"35vw"}},Y=[{path:"",component:N},{path:"working",component:(()=>{class e{constructor(e,t,n,s){this.location=e,this.poolService=t,this.supportMethod=n,this.translateService=s,this.poolAssignmentId="",this.kmValue=0,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.newwDistance={travelDistance:0}}ngOnInit(){this.DisplayendTaskForm=!1,this.getUnfinishedPoolAssignment()}getUnfinishedPoolAssignment(){this.loading=!0,this.poolService.getUnfinishedPoolAssignments().then(e=>{this.car=e,this.loading=!1})}TaskEndForm(e){this.poolAssignmentId=e.poolAssId,this.DisplayendTaskForm=!0}AddKM(){if(this.kmValue<=0)return this.DisplayError("Distance value is invalid please enter correct distance"),!1;this.newwDistance.travelDistance=this.kmValue,this.poolService.EndPoolAssignmentTask(this.newwDistance,this.poolAssignmentId).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Information Registered successfully ",this.DisplayendTaskForm=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n})}DisplayError(e){this.iserror=!0,this.responseStyle="error",this.responseDialog=!0,this.responseTitle="Error!!!",this.responseMesssage=e}backFunction(){this.location.back()}Okonclick(){this.responseDialog=!1,location.reload()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.Ye),r.Y36(o.q),r.Y36(L.p),r.Y36(l.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-task-end-active-vehicle"]],decls:30,vars:43,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[2,"text-align","right","margin","2px"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[1,"p-grid"],[1,"p-col-12"],[1,"p-col-3"],[1,"p-col-7"],["type","number","pInputText","",3,"ngModel","ngModelChange"],[1,"p-col-4"],["pButton","","icon","pi pi-check","type","button",3,"label","click"],[1,"header-row"],[1,"body-row"]],template:function(e,t){1&e&&(r.TgZ(0,"p-dialog",0),r.NdJ("visibleChange",function(e){return t.responseDialog=e}),r.TgZ(1,"p-header"),r.TgZ(2,"p"),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.TgZ(6,"p-footer"),r.TgZ(7,"button",1),r.NdJ("click",function(){return t.Okonclick()}),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",2),r.TgZ(10,"button",3),r.NdJ("click",function(){return t.backFunction()}),r.ALo(11,"translate"),r.qZA(),r.qZA(),r.TgZ(12,"p-table",4),r.YNc(13,V,25,24,"ng-template",5),r.YNc(14,O,19,14,"ng-template",6),r.qZA(),r.TgZ(15,"p-dialog",7),r.NdJ("visibleChange",function(e){return t.DisplayendTaskForm=e}),r.ALo(16,"translate"),r.TgZ(17,"div",8),r.TgZ(18,"div",9),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"div",10),r._uU(22),r.ALo(23,"translate"),r.qZA(),r.TgZ(24,"div",11),r.TgZ(25,"input",12),r.NdJ("ngModelChange",function(e){return t.kmValue=e}),r.qZA(),r.qZA(),r._UZ(26,"div",10),r.TgZ(27,"div",13),r.TgZ(28,"button",14),r.NdJ("click",function(){return t.AddKM()}),r.ALo(29,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Akn(r.DdM(41,E)),r.Q6J("visible",t.responseDialog)("modal",!0),r.xp6(2),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseTitle," "),r.xp6(1),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseMesssage," "),r.xp6(2),r.s9C("label",r.lcZ(8,29,"ok")),r.xp6(3),r.s9C("label",r.lcZ(11,31,"back")),r.xp6(2),r.Q6J("value",t.car)("paginator",!0)("rows",10)("autoLayout",!0)("loading",t.loading),r.xp6(3),r.Akn(r.DdM(42,F)),r.s9C("header",r.lcZ(16,33,"taskEndForm")),r.Q6J("visible",t.DisplayendTaskForm)("transitionOptions","0ms")("modal",!0),r.xp6(4),r.hij("",r.lcZ(20,35,"actualDistanceInfo")," "),r.xp6(3),r.Oqu(r.lcZ(23,37,"distance")),r.xp6(3),r.Q6J("ngModel",t.kmValue),r.xp6(3),r.s9C("label",r.lcZ(29,39,"register")))},directives:[c.V,u.h4,u.$_,h.Hq,p.iA,u.jx,a.wV,a.Fj,g.o,a.JJ,a.On],pipes:[l.X$,s.uU],styles:[""]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.Bz.forChild(Y)],i.Bz]}),e})();var j=n(35119);let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,j.n]]}),e})(),H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,Q,j.n,P]]}),e})()},10990:function(e){function t(e,t){return"000000".substring(0,t-(e=""+e).length)+e}function n(e,n,s,i){return this._calendar=e,this._year=n,this._month=s,this._day=i,{_calendar:this._calendar,_year:this._year,_month:this._month,_day:this._day,newDate:function(e,t,n){return this._calendar.newDate(null==e?this:e,t,n)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,t,n){return this._year=e,this._month=t,this._day=n,this},set:function(e,t){return this._calendar.set(this,e,t)},leapYear:function(){return this._calendar.leapYear(this)},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},toEC:function(){return this._calendar.toEC(this)},toGC:function(){return this._calendar.toGC(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(e){return e=e||"-",(this.year()<0?e:"")+t(Math.abs(this.year()),4)+e+t(this.month(),2)+e+t(this.day(),2)},toLongString:function(){return this._calendar.toLongString(this)}}}var s=new function(){return this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={},{dateStruct:n,local:this.local,regionalOptions:{"":this.regionalOptions[""]},calendars:this.calendars,_localCals:this._localCals,instance:function(e,t){e=(e||"gregorian").toLowerCase();var n=this._localCals[e+"-"+(t=t||"")];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+"-"+t]=n),!n)throw(this.local.invalidCalendar||s.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,s,i){return(s=(null!=e&&e.year?e.calendar():"string"==typeof s?this.instance(s,i):s)||this.instance()).newDate(e,t,n,s)}}};s.calendars.gregorian=function(e){return this.local=s.regionalOptions[e]||s.regionalOptions[""],{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},daysInMonth(e,t){return this.leapYear(e)&&4==t?29:this.daysPerMonth[t]},newDate:function(e,t,s){return null==e?this.today():(e.year&&(s=e.day(),t=e.month(),e=e.year()),new n(this,e,t,s))},today:function(){return this.fromJSDate(new Date)},set:function(e,t,n){var s="y"===n?t:e.year(),i="m"===n?t:e.month(),a="d"===n?t:e.day();return"y"!==n&&"m"!==n||(a=Math.min(a,this.daysInMonth(s,i))),e.date(s,i,a)},leapYear:function(e){var t=this.newDate(e,this.minMonth,this.minDay);return(e=t.year()+(t.year()<0?1:0))%4==0&&(e%100!=0||e%400==0)},toJD:function(e,t,n){var s=this.newDate(e,t,n);e=s.year(),t=s.month(),n=s.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25),s=1524+(n=t+1+n-Math.floor(n/4)),i=Math.floor((s-122.1)/365.25),a=Math.floor(365.25*i),r=Math.floor((s-a)/30.6001),o=s-a-Math.floor(30.6001*r),l=r-(r>13.5?13:1),c=i-(l>2.5?4716:4715);return c<=0&&c--,this.newDate(c,l,o)},toJSDate:function(e,t,n){var s=this.newDate(e,t,n),i=new Date(s.year(),s.month()-1,s.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())},toEC:function(e){return s.instance("ethiopian").fromJD(e.toJD())},toLongString:function(e){return`${function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}return""}(new Date(e._year,e._month-1,e._day).getDay())} ${function(e){switch(e=parseInt(e)){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"Novomber";case 12:return"December"}return""}(e._month)} ${e._day}, ${e._year}`}}},s.calendars.ethiopian=function(e){return this.local=s.regionalOptions[e||""]||s.regionalOptions[""],{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},daysInMonth(e,t){return this.leapYear(e)&&13==t?6:30},newDate:function(e,t,s){return null==e?this.today():(e.year&&(s=e.day(),t=e.month(),e=e.year()),new n(this,e,t,s))},today:function(){return this.fromJSDate(new Date)},fromJSDate:function(e){return this.fromJD(s.instance().fromJSDate(e).toJD())},set:function(e,t,n){var s="y"===n?t:e.year(),i="m"===n?t:e.month(),a="d"===n?t:e.day();return"y"!==n&&"m"!==n||(a=Math.min(a,this.daysInMonth(s,i))),e.date(s,i,a)},leapYear:function(e){var t=this.newDate(e,this.minMonth,this.minDay);return(e=t.year()+(t.year()<0?1:0))%4==3||e%4==-1},toJD:function(e,t,n){var s=this.newDate(e,t,n);return(e=s.year())<0&&e++,s.day()+30*(s.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var s=Math.floor(t/30)+1;return this.newDate(n,s,t-30*(s-1)+1)},toGC:function(e){return s.instance("gregorian").fromJD(e.toJD())},toLongString:function(e){var t=this.toGC(e);return`${function(e){switch(e){case 0:return"\u12a5\u1201\u12f5";case 1:return"\u1230\u129e";case 2:return"\u121b\u12ad\u1230\u129e";case 3:return"\u1228\u1261\u12d5";case 4:return"\u1200\u1219\u1235";case 5:return"\u12a0\u122d\u1265";case 6:return"\u1245\u12f3\u121c"}return""}(new Date(t._year,t._month-1,t._day).getDay())} ${function(e){switch(e=parseInt(e)){case 1:return"\u1218\u1235\u12a8\u1228\u121d";case 2:return"\u1325\u1245\u121d\u1275";case 3:return"\u1205\u12f3\u122d";case 4:return"\u1273\u1205\u1233\u1235";case 5:return"\u1325\u122d";case 6:return"\u12e8\u12ab\u1272\u1275";case 7:return"\u1218\u130b\u1262\u1275";case 8:return"\u121a\u12eb\u12da\u12eb";case 9:return"\u130d\u1295\u1266\u1275";case 10:return"\u1230\u1294";case 11:return"\u1210\u121d\u120c";case 12:return"\u1290\u1200\u1234";case 13:return"\u1333\u1309\u121c"}return""}(e._month)} ${e._day}, ${e._year}`}}},e.exports=s},1882:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(10990);function i(e){var t=new Date(e);return s.instance().fromJSDate(new Date(parseInt(t.getFullYear()),parseInt(t.getMonth()),parseInt(t.getDate()))).toEC().toLongString()}}}]);