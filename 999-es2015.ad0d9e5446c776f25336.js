(self.webpackChunknote=self.webpackChunknote||[]).push([[999],{79514:function(e,t,n){"use strict";n.r(t),n.d(t,{HomeServiceModule:function(){return D}});var r=n(61116),s=n(49437),i=n(87368),a=n(8361),o=n(77744),h=n(89521),u=n(65916),c=n(28451),l=n(94217),d=n(49783),p=n(60649);function g(e,t){1&e&&(i.TgZ(0,"tr",11),i.TgZ(1,"th"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"th"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"th"),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"th"),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"th"),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"th"),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"th"),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.TgZ(22,"th"),i._uU(23),i.ALo(24,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Oqu(i.lcZ(3,8,"name")),i.xp6(3),i.Oqu(i.lcZ(6,10,"vehicle")),i.xp6(3),i.Oqu(i.lcZ(9,12,"plateNumber")),i.xp6(3),i.Oqu(i.lcZ(12,14,"driver")),i.xp6(3),i.Oqu(i.lcZ(15,16,"phone")),i.xp6(3),i.Oqu(i.lcZ(18,18,"line")),i.xp6(3),i.Oqu(i.lcZ(21,20,"way")),i.xp6(3),i.Oqu(i.lcZ(24,22,"assignDate")))}function m(e,t){1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"th",12),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"noHomeServiceUser")))}function y(e,t){if(1&e&&(i.YNc(0,g,25,24,"tr",9),i.YNc(1,m,4,3,"tr",10)),2&e){const e=i.oxw();i.Q6J("ngIf",0!=e.homeService.length),i.xp6(1),i.Q6J("ngIf",0==e.homeService.length)}}function f(e,t){if(1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i._UZ(5,"br"),i.qZA(),i.TgZ(6,"td"),i._uU(7),i._UZ(8,"br"),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.TgZ(15,"td"),i._uU(16),i.qZA(),i.TgZ(17,"td"),i._uU(18),i.qZA(),i.qZA()),2&e){const e=t.$implicit,n=i.oxw();i.xp6(2),i.AsE("",e.homePoolRequeste.requester.firstName," ",e.homePoolRequeste.requester.lastName,""),i.xp6(2),i.hij(" ",e.route.bus.name," "),i.xp6(3),i.hij(" ",e.route.bus.platenumber,""),i.xp6(3),i.hij(" ",e.route.bus.driverName," "),i.xp6(2),i.hij(" ",e.route.bus.driverPhone," "),i.xp6(2),i.AsE("",e.route.route.departure," To ",e.route.route.destination,""),i.xp6(2),i.Oqu(e.route.route.way),i.xp6(2),i.hij(" ",n.supportMethod.getLanguageDate(e.assignDate),"")}}function Z(e,t){1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"th"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"th"),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"th"),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"th"),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.hij("",i.lcZ(3,5,"name")," "),i.xp6(3),i.Oqu(i.lcZ(6,7,"model")),i.xp6(3),i.hij("",i.lcZ(9,9,"plateNumber")," "),i.xp6(3),i.Oqu(i.lcZ(12,11,"seatCapacity")),i.xp6(3),i.hij(" ",i.lcZ(15,13,"assign"),""))}function v(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i.TgZ(10,"button",13),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().selectVehicle(t)}),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e.bus.name),i.xp6(2),i.Oqu(e.bus.model),i.xp6(2),i.Oqu(e.bus.platenumber),i.xp6(2),i.hij("",e.bus.seatCapacity," ")}}const A=function(){return{width:"50vw"}},S=[{path:"",component:(()=>{class e{constructor(e,t,n){this.poolService=e,this.sessionService=t,this.supportMethod=n,this.homeService=[],this.homeServiceSize=0,this.homeServiceRequestSize=0,this.HomePoolRCount=0,this.headerTitle="",this.newHomePool={routeId:"",userId:"string",assigndate:new Date,assignby:"",isActive:!0,reqid:""},this.submitted=!1,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.isHomeService=0}ngOnInit(){this.user=this.sessionService.getItem("currentUser"),this.userRole=this.supportMethod.getUserRole(this.user),this.CountActiveHomePoolRequest(),this.loading=!1,this.displayAccept=!1,this.getHomeService(),this.headerTitle="Home Pool Service Assignment List","FleetManager"==this.userRole?this.getHomeService():this.getHomeServiceByUser()}getHomeService(){this.loading=!0,this.poolService.getHomeService().then(e=>{this.homeService=e,this.loading=!1})}getHomeServiceByUser(){this.loading=!0,this.poolService.getHomeService().then(e=>{this.homeService=e.filter(e=>e.homePoolRequeste.requester.department.departmentId==this.user.user.department.departmentId),this.loading=!1})}CountActiveHomePoolRequest(){this.loading=!0,this.poolService.countActiveHomePoolRequest().then(e=>{this.HomePoolRCount=e})}getHomePoolRequest(){this.loading=!0,this.poolService.getHomePoolRequest().then(e=>{this.homeServiceRequest=e,this.homeServiceRequestSize=e.length,this.loading=!1})}HomerePollrequests(){this.headerTitle="Requests For Home Pool Service",this.homeServiceSize=0,this.getHomePoolRequest()}HomePoolList(){this.headerTitle="Home Pool Service Assignment List",this.homeServiceRequestSize=0,this.getHomeService()}getVehicle(){this.poolService.getBusRouteAssignment().then(e=>{this.vehicle=e,this.loading=!1})}getSelectedRequest(e){this.displayAccept=!0,this.SelectedUserId=e.user.id,this.requestID=e.id,this.getVehicle()}selectVehicle(e){this.displayAccept=!1,this.newHomePool.routeId=e.id,this.newHomePool.userId=this.SelectedUserId,this.newHomePool.assignby=this.user.user.userName,this.newHomePool.reqid=this.requestID,this.poolService.RegisterHomeService(this.newHomePool).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Assigned successfully ",this.displayAccept=!1,this.submitted=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.displayAccept=!1,this.responseStyle="error";for(const[t,n]of Object.entries(e))this.responseMesssage=this.responseMesssage+n;this.submitted=!1})}Okonclick(){this.responseDialog=!1,location.reload()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.q),i.Y36(o.m),i.Y36(h.p))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-home-service"]],decls:21,vars:34,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[1,"p-grid"],[1,"p-col-7"],[3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","modal","visibleChange"],[3,"value","paginator","rows","responsive"],["class","header-row",4,"ngIf"],[4,"ngIf"],[1,"header-row"],["colspan","5",2,"color","red","text-align","center"],["type","button","pButton","","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"p-dialog",0),i.NdJ("visibleChange",function(e){return t.responseDialog=e}),i.TgZ(1,"p-header"),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"p"),i._uU(5),i.qZA(),i.TgZ(6,"p-footer"),i.TgZ(7,"button",1),i.NdJ("click",function(){return t.Okonclick()}),i.ALo(8,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"div",2),i.TgZ(10,"div",3),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.qZA(),i.TgZ(13,"p-table",4),i.YNc(14,y,2,2,"ng-template",5),i.YNc(15,f,19,10,"ng-template",6),i.qZA(),i.TgZ(16,"p-dialog",7),i.NdJ("visibleChange",function(e){return t.displayAccept=e}),i.ALo(17,"translate"),i.TgZ(18,"p-table",8),i.YNc(19,Z,16,15,"ng-template",5),i.YNc(20,v,11,4,"ng-template",6),i.qZA(),i.qZA()),2&e&&(i.Akn(i.DdM(32,A)),i.Q6J("visible",t.responseDialog)("modal",!0),i.xp6(2),i.Tol(t.responseStyle),i.xp6(1),i.hij(" ",t.responseTitle," "),i.xp6(1),i.Tol(t.responseStyle),i.xp6(1),i.hij(" ",t.responseMesssage," "),i.xp6(2),i.s9C("label",i.lcZ(8,26,"ok")),i.xp6(4),i.hij(" ",i.lcZ(12,28,t.headerTitle),""),i.xp6(2),i.Q6J("value",t.homeService)("autoLayout",!0)("loading",t.loading),i.xp6(3),i.Akn(i.DdM(33,A)),i.s9C("header",i.lcZ(17,30,"selectVehicleandAssign")),i.Q6J("visible",t.displayAccept)("modal",!0),i.xp6(2),i.Q6J("value",t.vehicle)("paginator",!0)("rows",5)("responsive",!0))},directives:[u.V,c.h4,c.$_,l.Hq,d.iA,c.jx,r.O5],pipes:[p.X$],styles:[""]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forChild(S)],s.Bz]}),e})();var _=n(35119);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ez,q,_.n]]}),e})()},10990:function(e){function t(e,t){return"000000".substring(0,t-(e=""+e).length)+e}function n(e,n,r,s){return this._calendar=e,this._year=n,this._month=r,this._day=s,{_calendar:this._calendar,_year:this._year,_month:this._month,_day:this._day,newDate:function(e,t,n){return this._calendar.newDate(null==e?this:e,t,n)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,t,n){return this._year=e,this._month=t,this._day=n,this},set:function(e,t){return this._calendar.set(this,e,t)},leapYear:function(){return this._calendar.leapYear(this)},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},toEC:function(){return this._calendar.toEC(this)},toGC:function(){return this._calendar.toGC(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(e){return e=e||"-",(this.year()<0?e:"")+t(Math.abs(this.year()),4)+e+t(this.month(),2)+e+t(this.day(),2)},toLongString:function(){return this._calendar.toLongString(this)}}}var r=new function(){return this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={},{dateStruct:n,local:this.local,regionalOptions:{"":this.regionalOptions[""]},calendars:this.calendars,_localCals:this._localCals,instance:function(e,t){e=(e||"gregorian").toLowerCase();var n=this._localCals[e+"-"+(t=t||"")];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+"-"+t]=n),!n)throw(this.local.invalidCalendar||r.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,r,s){return(r=(null!=e&&e.year?e.calendar():"string"==typeof r?this.instance(r,s):r)||this.instance()).newDate(e,t,n,r)}}};r.calendars.gregorian=function(e){return this.local=r.regionalOptions[e]||r.regionalOptions[""],{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},daysInMonth(e,t){return this.leapYear(e)&&4==t?29:this.daysPerMonth[t]},newDate:function(e,t,r){return null==e?this.today():(e.year&&(r=e.day(),t=e.month(),e=e.year()),new n(this,e,t,r))},today:function(){return this.fromJSDate(new Date)},set:function(e,t,n){var r="y"===n?t:e.year(),s="m"===n?t:e.month(),i="d"===n?t:e.day();return"y"!==n&&"m"!==n||(i=Math.min(i,this.daysInMonth(r,s))),e.date(r,s,i)},leapYear:function(e){var t=this.newDate(e,this.minMonth,this.minDay);return(e=t.year()+(t.year()<0?1:0))%4==0&&(e%100!=0||e%400==0)},toJD:function(e,t,n){var r=this.newDate(e,t,n);e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<3&&(t+=12,e--);var s=Math.floor(e/100),i=2-s+Math.floor(s/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+i-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25),r=1524+(n=t+1+n-Math.floor(n/4)),s=Math.floor((r-122.1)/365.25),i=Math.floor(365.25*s),a=Math.floor((r-i)/30.6001),o=r-i-Math.floor(30.6001*a),h=a-(a>13.5?13:1),u=s-(h>2.5?4716:4715);return u<=0&&u--,this.newDate(u,h,o)},toJSDate:function(e,t,n){var r=this.newDate(e,t,n),s=new Date(r.year(),r.month()-1,r.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())},toEC:function(e){return r.instance("ethiopian").fromJD(e.toJD())},toLongString:function(e){return`${function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}return""}(new Date(e._year,e._month-1,e._day).getDay())} ${function(e){switch(e=parseInt(e)){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"Novomber";case 12:return"December"}return""}(e._month)} ${e._day}, ${e._year}`}}},r.calendars.ethiopian=function(e){return this.local=r.regionalOptions[e||""]||r.regionalOptions[""],{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},daysInMonth(e,t){return this.leapYear(e)&&13==t?6:30},newDate:function(e,t,r){return null==e?this.today():(e.year&&(r=e.day(),t=e.month(),e=e.year()),new n(this,e,t,r))},today:function(){return this.fromJSDate(new Date)},fromJSDate:function(e){return this.fromJD(r.instance().fromJSDate(e).toJD())},set:function(e,t,n){var r="y"===n?t:e.year(),s="m"===n?t:e.month(),i="d"===n?t:e.day();return"y"!==n&&"m"!==n||(i=Math.min(i,this.daysInMonth(r,s))),e.date(r,s,i)},leapYear:function(e){var t=this.newDate(e,this.minMonth,this.minDay);return(e=t.year()+(t.year()<0?1:0))%4==3||e%4==-1},toJD:function(e,t,n){var r=this.newDate(e,t,n);return(e=r.year())<0&&e++,r.day()+30*(r.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1;return this.newDate(n,r,t-30*(r-1)+1)},toGC:function(e){return r.instance("gregorian").fromJD(e.toJD())},toLongString:function(e){var t=this.toGC(e);return`${function(e){switch(e){case 0:return"\u12a5\u1201\u12f5";case 1:return"\u1230\u129e";case 2:return"\u121b\u12ad\u1230\u129e";case 3:return"\u1228\u1261\u12d5";case 4:return"\u1200\u1219\u1235";case 5:return"\u12a0\u122d\u1265";case 6:return"\u1245\u12f3\u121c"}return""}(new Date(t._year,t._month-1,t._day).getDay())} ${function(e){switch(e=parseInt(e)){case 1:return"\u1218\u1235\u12a8\u1228\u121d";case 2:return"\u1325\u1245\u121d\u1275";case 3:return"\u1205\u12f3\u122d";case 4:return"\u1273\u1205\u1233\u1235";case 5:return"\u1325\u122d";case 6:return"\u12e8\u12ab\u1272\u1275";case 7:return"\u1218\u130b\u1262\u1275";case 8:return"\u121a\u12eb\u12da\u12eb";case 9:return"\u130d\u1295\u1266\u1275";case 10:return"\u1230\u1294";case 11:return"\u1210\u121d\u120c";case 12:return"\u1290\u1200\u1234";case 13:return"\u1333\u1309\u121c"}return""}(e._month)} ${e._day}, ${e._year}`}}},e.exports=r},1882:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(10990);function s(e){var t=new Date(e);return r.instance().fromJSDate(new Date(parseInt(t.getFullYear()),parseInt(t.getMonth()),parseInt(t.getDate()))).toEC().toLongString()}}}]);