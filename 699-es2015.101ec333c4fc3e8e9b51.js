(self.webpackChunknote=self.webpackChunknote||[]).push([[699],{84699:function(t,e,o){"use strict";o.r(e),o.d(e,{HttpLoaderFactory:function(){return D},ReportModule:function(){return M}});var n=o(61116),r=o(49437),s=o(87368),a=o(8361),i=o(65916),l=o(28451),p=o(94217),g=o(46326),u=o(31041),c=o(49783),d=o(60649);function h(t,e){1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2,"Date"),s.qZA(),s.TgZ(3,"th"),s._uU(4,"Total Requests"),s.qZA(),s.TgZ(5,"th"),s._uU(6," Expected KM"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Actual KM"),s.qZA(),s.qZA())}function Z(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.ALo(3,"date"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Oqu(s.xi3(3,4,t.assignDate,"MMM,dd/yyyy")),s.xp6(3),s.Oqu(t.totalAssignment),s.xp6(2),s.Oqu(t.totalExDistance),s.xp6(2),s.Oqu(t.totalTrDistance)}}const f=function(){return{width:"50vw"}},m=[{path:"",component:(()=>{class t{constructor(t){this.poolService=t,this.from=new Date,this.to=new Date,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}ngOnInit(){this.cars=[{date:"23/9/2013",totalr:"28",totaled:"3200",totalad:"4000"},{date:"24/9/2013",totalr:"35",totaled:"3000",totalad:"3200"},{date:"25/9/2013",totalr:"29",totaled:"3200",totalad:"2800"},{date:"26/9/2013",totalr:"36",totaled:"3200",totalad:"3600"}],this.getReport("2021-06-04","2021-06-28")}getReport(t,e){this.loading=!0,this.poolService.getTotalPoolAssignmentReport(t,e).then(t=>{this.report=t.totalAssignmenttList,console.log(t.totalAssignmenttList),this.loading=!1})}generateReport(){if(console.log(this.from.getDate()+"  "+this.to.getUTCDay()),this.compareDate(new Date(this.from),new Date(this.to)))return this.DisplayError("Starting Time Should be grater than end time Time"),!1;let t=this.from.getFullYear()+"-"+(this.from.getMonth()+1)+"-"+this.from.getDate(),e=this.to.getFullYear()+"-"+(this.to.getMonth()+1)+"-"+this.to.getDate();console.log(t+" "+e),this.getReport(t,e)}compareDate(t,e){return t>e}DisplayError(t){this.iserror=!0,this.responseStyle="error",this.responseDialog=!0,this.responseTitle="Error!!!",this.responseMesssage=t}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.q))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-report"]],decls:18,vars:28,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[3,"ngModel","showIcon","ngModelChange"],["label","Generate Report",3,"click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&(s.TgZ(0,"p-dialog",0),s.NdJ("visibleChange",function(t){return e.responseDialog=t}),s.TgZ(1,"p-header"),s.TgZ(2,"p"),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"p-footer"),s.TgZ(7,"button",1),s.NdJ("click",function(){return e.responseDialog=!1}),s.ALo(8,"translate"),s.qZA(),s.qZA(),s.qZA(),s._uU(9," From "),s.TgZ(10,"p-calendar",2),s.NdJ("ngModelChange",function(t){return e.from=t})("ngModelChange",function(t){return e.from=t}),s.qZA(),s._uU(11," To "),s.TgZ(12,"p-calendar",2),s.NdJ("ngModelChange",function(t){return e.to=t})("ngModelChange",function(t){return e.to=t}),s.qZA(),s._uU(13," \xa0"),s.TgZ(14,"p-button",3),s.NdJ("click",function(){return e.generateReport()}),s.qZA(),s.TgZ(15,"p-table",4),s.YNc(16,h,9,0,"ng-template",5),s.YNc(17,Z,10,7,"ng-template",6),s.qZA()),2&t&&(s.Akn(s.DdM(27,f)),s.Q6J("visible",e.responseDialog)("modal",!0),s.xp6(2),s.Tol(e.responseStyle),s.xp6(1),s.hij(" ",e.responseTitle," "),s.xp6(1),s.Tol(e.responseStyle),s.xp6(1),s.hij(" ",e.responseMesssage," "),s.xp6(2),s.s9C("label",s.lcZ(8,25,"ok")),s.xp6(3),s.Q6J("ngModel",e.from)("ngModel",e.from)("showIcon",!0),s.xp6(2),s.Q6J("ngModel",e.to)("ngModel",e.to)("showIcon",!0),s.xp6(3),s.Q6J("value",e.report)("autoLayout",!0)("loading",e.loading)("paginator",!0)("rows",7)("responsive",!0))},directives:[i.V,l.h4,l.$_,p.Hq,g.f,u.JJ,u.On,p.zx,c.iA,l.jx],pipes:[d.X$,n.uU],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),t})();var A=o(35119),q=o(42693),y=o(49037);function D(t){return new y.w(t)}let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,T,A.n,d.aw.forChild({loader:{provide:d.Zw,useFactory:D,deps:[q.eN]},isolate:!1})],d.aw]}),t})()}}]);