!function(){function e(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==s)return;var n,i,r=[],o=!0,u=!1;try{for(s=s.call(e);!(o=(n=s.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(a){u=!0,i=a}finally{try{o||null==s.return||s.return()}finally{if(u)throw i}}return r}(e,s)||function(e,s){if(!e)return;if("string"==typeof e)return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,s)}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[242],{40242:function(t,i,r){"use strict";r.r(i),r.d(i,{RouteBusAssignmentModule:function(){return w}});var o=r(61116),u=r(49437),a=r(87368),l=r(8361),c=r(28451),p=r(77744),g=r(50052),h=r(63505),Z=r(65916),d=r(94217),A=r(49783),f=r(60649);function m(e,t){1&e&&(a.TgZ(0,"tr",8),a.TgZ(1,"th"),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"th"),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th"),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.TgZ(16,"th"),a._uU(17),a.ALo(18,"translate"),a.qZA(),a.TgZ(19,"th"),a._uU(20),a.ALo(21,"translate"),a.qZA(),a.TgZ(22,"th"),a._uU(23),a.ALo(24,"translate"),a.qZA(),a.TgZ(25,"th"),a._uU(26),a.ALo(27,"translate"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Oqu(a.lcZ(3,9,"departure")),a.xp6(3),a.Oqu(a.lcZ(6,11,"way")),a.xp6(3),a.Oqu(a.lcZ(9,13,"destination")),a.xp6(3),a.Oqu(a.lcZ(12,15,"description")),a.xp6(3),a.Oqu(a.lcZ(15,17,"vehicle")),a.xp6(3),a.Oqu(a.lcZ(18,19,"plateNumber")),a.xp6(3),a.Oqu(a.lcZ(21,21,"seatCapacity")),a.xp6(3),a.Oqu(a.lcZ(24,23,"totlaHomeServiceUser")),a.xp6(3),a.hij(" ",a.lcZ(27,25,"showUsers")," "))}function v(e,t){if(1&e){var s=a.EpF();a.TgZ(0,"tr",9),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA(),a.TgZ(15,"td"),a._uU(16),a.qZA(),a.TgZ(17,"td"),a.TgZ(18,"p-button",10),a.NdJ("click",function(){var e=a.CHM(s).$implicit;return a.oxw().selectRoute(e)}),a.ALo(19,"translate"),a.qZA(),a.qZA(),a.qZA()}if(2&e){var n=t.$implicit;a.xp6(2),a.Oqu(n.busRouteAssignment.route.departure),a.xp6(2),a.Oqu(n.busRouteAssignment.route.way),a.xp6(2),a.Oqu(n.busRouteAssignment.route.destination),a.xp6(2),a.Oqu(n.busRouteAssignment.route.description),a.xp6(2),a.hij(" ",n.busRouteAssignment.bus.name,""),a.xp6(2),a.Oqu(n.busRouteAssignment.bus.platenumber),a.xp6(2),a.Oqu(n.busRouteAssignment.bus.seatCapacity),a.xp6(2),a.Oqu(n.numUser),a.xp6(2),a.s9C("label",a.lcZ(19,9,"show"))}}function b(e,t){1&e&&(a.TgZ(0,"tr"),a.TgZ(1,"th"),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"th"),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th"),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.hij("",a.lcZ(3,5,"name")," "),a.xp6(3),a.Oqu(a.lcZ(6,7,"model")),a.xp6(3),a.hij("",a.lcZ(9,9,"plateNumber")," "),a.xp6(3),a.Oqu(a.lcZ(12,11,"seatCapacity")),a.xp6(3),a.hij(" ",a.lcZ(15,13,"assign"),""))}function q(e,t){if(1&e){var s=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"button",11),a.NdJ("click",function(){var e=a.CHM(s).$implicit;return a.oxw().selectVehicle(e)}),a.qZA(),a.qZA(),a.qZA()}if(2&e){var n=t.$implicit;a.xp6(2),a.Oqu(n.name),a.xp6(2),a.Oqu(n.model),a.xp6(2),a.Oqu(n.platenumber),a.xp6(2),a.hij("",n.seatCapacity," ")}}var y,T,x=function(){return{width:"50vw"}},S=[{path:"",component:(y=function(){function t(e,n,i,r,o){s(this,t),this.poolService=e,this.messageService=n,this.confirmationService=i,this.sessionService=r,this.routeStateService=o,this.newHomeServiceRequest={routeId:"",userId:"",assigndate:new Date,assignby:"melkamu",isActive:!0},this.newRoutBus={routeId:"",vehicleId:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}var i,r,o;return i=t,(r=[{key:"ngOnInit",value:function(){this.loading=!1,this.user=this.sessionService.getItem("currentUser"),this.getAssignment()}},{key:"getAssignment",value:function(){var e=this;this.loading=!0,this.poolService.getRoutewithAssignmentWithUser().then(function(t){e.routeAssignment=t.busRouteAssignmentReport,e.loading=!1})}},{key:"RegisterRequest",value:function(t){var s=this;this.poolService.RegisterHomeService(t).subscribe(function(e){s.iserror=!1,s.responseStyle="success",s.responseDialog=!0,s.responseTitle="SUCCESS!!!",s.responseMesssage="Information Registered successfully "},function(t){s.iserror=!0,s.responseTitle="Error!!!",s.responseDialog=!0,s.responseMesssage="",s.responseStyle="error";for(var n=0,i=Object.entries(t);n<i.length;n++){var r=e(i[n],2),o=(r[0],r[1]);s.responseMesssage=s.responseMesssage+o}})}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}},{key:"selectVehicle",value:function(t){var s=this;this.displayAccept=!1,this.newRoutBus.routeId=t.vehicleId,this.newRoutBus.vehicleId=t.vehicleId,this.poolService.RegisterBusRouteAssignment(this.newRoutBus).subscribe(function(e){s.iserror=!1,s.responseStyle="success",s.responseDialog=!0,s.responseTitle="SUCCESS!!!",s.responseMesssage="Request Assigned successfully ",s.display=!1,s.submitted=!1},function(t){s.iserror=!0,s.responseTitle="Error!!!",s.responseDialog=!0,s.responseMesssage="",s.display=!1,s.responseStyle="error";for(var n=0,i=Object.entries(t);n<i.length;n++){var r=e(i[n],2),o=(r[0],r[1]);s.responseMesssage=s.responseMesssage+o}s.submitted=!1})}},{key:"getVehicle",value:function(){var e=this;this.poolService.getCar().then(function(t){e.vehicle=t,e.loading=!1})}},{key:"getSelectedRoute",value:function(e){console.log(e),this.displayAccept=!0,this.routeId=e.id,this.getVehicle()}},{key:"selectRoute",value:function(e){console.log(e.busRouteAssignment),this.routeStateService.add("user-list","/main/homeservice/user/list",e.busRouteAssignment,!1)}}])&&n(i.prototype,r),o&&n(i,o),t}(),y.\u0275fac=function(e){return new(e||y)(a.Y36(l.q),a.Y36(c.ez),a.Y36(c.YP),a.Y36(p.m),a.Y36(g.v))},y.\u0275cmp=a.Xpm({type:y,selectors:[["app-route-bus-assignment"]],decls:18,vars:35,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","modal","visibleChange"],[3,"value","paginator","rows","responsive"],[1,"header-row"],[1,"body-row"],["icon","pi pi-check","styleClass","p-mr-2",3,"label","click"],["type","button","pButton","","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(a._UZ(0,"p-confirmDialog",0),a.TgZ(1,"p-dialog",1),a.NdJ("visibleChange",function(e){return t.responseDialog=e}),a.TgZ(2,"p-header"),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA(),a.TgZ(7,"p-footer"),a.TgZ(8,"button",2),a.NdJ("click",function(){return t.Okonclick()}),a.ALo(9,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"p-table",3),a.YNc(11,m,28,27,"ng-template",4),a.YNc(12,v,20,11,"ng-template",5),a.qZA(),a.TgZ(13,"p-dialog",6),a.NdJ("visibleChange",function(e){return t.displayAccept=e}),a.ALo(14,"translate"),a.TgZ(15,"p-table",7),a.YNc(16,b,16,15,"ng-template",4),a.YNc(17,q,11,4,"ng-template",5),a.qZA(),a.qZA()),2&e&&(a.Akn(a.DdM(32,x)),a.Q6J("baseZIndex",1e4),a.xp6(1),a.Akn(a.DdM(33,x)),a.Q6J("visible",t.responseDialog)("modal",!0),a.xp6(2),a.Tol(t.responseStyle),a.xp6(1),a.hij(" ",t.responseTitle," "),a.xp6(1),a.Tol(t.responseStyle),a.xp6(1),a.hij(" ",t.responseMesssage," "),a.xp6(2),a.s9C("label",a.lcZ(9,28,"ok")),a.xp6(2),a.Q6J("value",t.routeAssignment)("autoLayout",!0)("loading",t.loading),a.xp6(3),a.Akn(a.DdM(34,x)),a.s9C("header",a.lcZ(14,30,"selectVehicleandAssign")),a.Q6J("visible",t.displayAccept)("modal",!0),a.xp6(2),a.Q6J("value",t.vehicle)("paginator",!0)("rows",5)("responsive",!0))},directives:[h.Q,Z.V,c.h4,c.$_,d.Hq,A.iA,c.jx,d.zx],pipes:[f.X$],styles:[""]}),y)}],U=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[u.Bz.forChild(S)],u.Bz]}),e}(),k=r(35119),w=((T=function e(){s(this,e)}).\u0275fac=function(e){return new(e||T)},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[[o.ez,U,k.n]]}),T)}}])}();